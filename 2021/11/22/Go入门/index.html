<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="ifDo7"><meta name="copyright" content="ifDo7"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>Goå…¥é—¨ | ifDo7's Blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_j5gk85dg4pf.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"shgxy.github.io.git","root":"/","title":"å¯é‚£ç¯ç«æœªæ˜çš„ä¸è€é˜","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["255, 0, 0","0, 255, 0","0, 255, 255"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="alternate" href="/atom.xml" title="ifDo7's Blog" type="application/atom+xml"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="(çº¯æ¬è¿ï¼Œæ€•è¿™ç©æ„çªç„¶æ²¡äº†) è¿è¡Œ Hello,World!æ‰“å¼€GoLandï¼Œ new projectï¼š å¦‚æœæœ¬åœ°SDKå¯¼å…¥æ—¶æŠ¥é”™ï¼š æ‰¾åˆ°ä¸‹å›¾ä½ç½®ï¼ˆå®‰è£…Goçš„æ–‡ä»¶å¤¹ä¸‹ï¼‰ï¼š   å†™å…¥çš„ä»£ç ä¸ºï¼š const theVersion &#x3D; &#96;go1.17&#96;  new Go Fileï¼š  å†™ä¸€ä¸ªç®€å•çš„ç¨‹åºï¼š package awesomeProject  import &quot;fmt&quot;  func main()">
<meta property="og:type" content="article">
<meta property="og:title" content="Goå…¥é—¨">
<meta property="og:url" content="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="ifDo7&#39;s Blog">
<meta property="og:description" content="(çº¯æ¬è¿ï¼Œæ€•è¿™ç©æ„çªç„¶æ²¡äº†) è¿è¡Œ Hello,World!æ‰“å¼€GoLandï¼Œ new projectï¼š å¦‚æœæœ¬åœ°SDKå¯¼å…¥æ—¶æŠ¥é”™ï¼š æ‰¾åˆ°ä¸‹å›¾ä½ç½®ï¼ˆå®‰è£…Goçš„æ–‡ä»¶å¤¹ä¸‹ï¼‰ï¼š   å†™å…¥çš„ä»£ç ä¸ºï¼š const theVersion &#x3D; &#96;go1.17&#96;  new Go Fileï¼š  å†™ä¸€ä¸ªç®€å•çš„ç¨‹åºï¼š package awesomeProject  import &quot;fmt&quot;  func main()">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/image-20211122194327110.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/image-20211122193908635.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/image-20211122194603525.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/image-20211122195345288.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/image-20211122195550247.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/image-20211122195912574.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/image-20211122195952278.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/image-20211122200314917.png">
<meta property="og:image" content="https://www.liwenzhou.com/images/Go/slice/slice_01.png">
<meta property="og:image" content="https://www.liwenzhou.com/images/Go/slice/slice_02.png">
<meta property="og:image" content="https://www.liwenzhou.com/images/Go/func/defer.png">
<meta property="article:published_time" content="2021-11-22T11:27:00.000Z">
<meta property="article:modified_time" content="2021-11-23T15:44:46.831Z">
<meta property="article:author" content="ifDo7">
<meta property="article:tag" content="notes">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/image-20211122194327110.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="ifDo7"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="ifDo7"><span class="site-author-status" title="ç»´çº³æ–¯çš„é“¶é’©ã€‚">ğŸ¥±</span></a><div class="site-author-name"><a href="/about/">ifDo7</a></div><span class="site-name">ifDo7's Blog</span><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">22</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">19</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">16</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" title="QQç¾¤:å¾…å®šing" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="å¾®ä¿¡:shg799" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Shgxy" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:shg799@foxmail.com" title="E-Mail:shg799@foxmail.com" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/" title="å…±äº§ä¸»ä¹‰æ¥ç­äºº" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C-Hello-World"><span class="toc-number">1.</span> <span class="toc-text">è¿è¡Œ Hello,World!</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#new-project%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">new projectï¼š</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#new-Go-File%EF%BC%9A"><span class="toc-number">1.2.</span> <span class="toc-text">new Go Fileï¼š</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE%EF%BC%9A"><span class="toc-number">1.3.</span> <span class="toc-text">æ·»åŠ é…ç½®ï¼š</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%88%90%E5%8A%9F%EF%BC%9A"><span class="toc-number">1.4.</span> <span class="toc-text">è¿è¡ŒæˆåŠŸï¼š</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">1.5.</span> <span class="toc-text">å…¶ä»–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%BC%96%E8%AF%91"><span class="toc-number">1.5.1.</span> <span class="toc-text">è·¨å¹³å°ç¼–è¯‘</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">2.</span> <span class="toc-text">å˜é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E"><span class="toc-number">2.1.</span> <span class="toc-text">å£°æ˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">2.2.</span> <span class="toc-text">åˆå§‹åŒ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B4%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span class="toc-number">2.3.</span> <span class="toc-text">ğŸ”´æ³¨æ„äº‹é¡¹ï¼š</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">å¸¸é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#iota"><span class="toc-number">3.1.</span> <span class="toc-text">iota</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%A0%E4%B8%AA%E5%B8%B8%E8%A7%81%E7%9A%84iota%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.1.1.</span> <span class="toc-text">å‡ ä¸ªå¸¸è§çš„iotaç¤ºä¾‹:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E5%80%BC"><span class="toc-number">3.2.</span> <span class="toc-text">å¸ƒå°”å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.3.</span> <span class="toc-text">å­—ç¬¦ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E4%B9%89%E7%AC%A6"><span class="toc-number">3.3.1.</span> <span class="toc-text">å­—ç¬¦ä¸²è½¬ä¹‰ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.3.2.</span> <span class="toc-text">å¤šè¡Œå­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">3.3.3.</span> <span class="toc-text">å­—ç¬¦ä¸²çš„å¸¸ç”¨æ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#byte%E5%92%8Crune%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.4.</span> <span class="toc-text">byteå’Œruneç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.4.1.</span> <span class="toc-text">ä¿®æ”¹å­—ç¬¦ä¸²</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">3.5.</span> <span class="toc-text">ç±»å‹è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-number">4.</span> <span class="toc-text">åˆ‡ç‰‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">4.1.</span> <span class="toc-text">åˆ‡ç‰‡çš„å®šä¹‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E9%95%BF%E5%BA%A6%E5%92%8C%E5%AE%B9%E9%87%8F"><span class="toc-number">4.1.1.</span> <span class="toc-text">åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E7%89%87%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">4.1.2.</span> <span class="toc-text">åˆ‡ç‰‡è¡¨è¾¾å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%88%87%E7%89%87%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">4.1.2.1.</span> <span class="toc-text">ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E5%88%87%E7%89%87%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">4.1.2.2.</span> <span class="toc-text">å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8make-%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A0%E5%88%87%E7%89%87"><span class="toc-number">4.1.3.</span> <span class="toc-text">ä½¿ç”¨make()å‡½æ•°æ„é€ åˆ‡ç‰‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">4.1.4.</span> <span class="toc-text">åˆ‡ç‰‡çš„æœ¬è´¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E5%88%87%E7%89%87%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA"><span class="toc-number">4.1.5.</span> <span class="toc-text">åˆ¤æ–­åˆ‡ç‰‡æ˜¯å¦ä¸ºç©º</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87%E4%B8%8D%E8%83%BD%E7%9B%B4%E6%8E%A5%E6%AF%94%E8%BE%83"><span class="toc-number">4.2.</span> <span class="toc-text">åˆ‡ç‰‡ä¸èƒ½ç›´æ¥æ¯”è¾ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E8%B5%8B%E5%80%BC%E6%8B%B7%E8%B4%9D"><span class="toc-number">4.3.</span> <span class="toc-text">åˆ‡ç‰‡çš„èµ‹å€¼æ‹·è´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87%E9%81%8D%E5%8E%86"><span class="toc-number">4.4.</span> <span class="toc-text">åˆ‡ç‰‡éå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#append-%E6%96%B9%E6%B3%95%E4%B8%BA%E5%88%87%E7%89%87%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0"><span class="toc-number">4.5.</span> <span class="toc-text">append()æ–¹æ³•ä¸ºåˆ‡ç‰‡æ·»åŠ å…ƒç´ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87%E7%9A%84%E6%89%A9%E5%AE%B9%E7%AD%96%E7%95%A5"><span class="toc-number">4.6.</span> <span class="toc-text">åˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8copy-%E5%87%BD%E6%95%B0%E5%A4%8D%E5%88%B6%E5%88%87%E7%89%87"><span class="toc-number">4.7.</span> <span class="toc-text">ä½¿ç”¨copy()å‡½æ•°å¤åˆ¶åˆ‡ç‰‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8E%E5%88%87%E7%89%87%E4%B8%AD%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0"><span class="toc-number">4.8.</span> <span class="toc-text">ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ </span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#map"><span class="toc-number">5.</span> <span class="toc-text">map</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#map%E5%AE%9A%E4%B9%89"><span class="toc-number">5.1.</span> <span class="toc-text">mapå®šä¹‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">5.2.</span> <span class="toc-text">mapåŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%9F%90%E4%B8%AA%E9%94%AE%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="toc-number">5.3.</span> <span class="toc-text">åˆ¤æ–­æŸä¸ªé”®æ˜¯å¦å­˜åœ¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-number">5.4.</span> <span class="toc-text">mapçš„éå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8delete-%E5%87%BD%E6%95%B0%E5%88%A0%E9%99%A4%E9%94%AE%E5%80%BC%E5%AF%B9"><span class="toc-number">5.5.</span> <span class="toc-text">ä½¿ç”¨delete()å‡½æ•°åˆ é™¤é”®å€¼å¯¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E6%8C%87%E5%AE%9A%E9%A1%BA%E5%BA%8F%E9%81%8D%E5%8E%86map"><span class="toc-number">5.6.</span> <span class="toc-text">æŒ‰ç…§æŒ‡å®šé¡ºåºéå†map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E4%B8%BAmap%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%88%87%E7%89%87"><span class="toc-number">5.7.</span> <span class="toc-text">å…ƒç´ ä¸ºmapç±»å‹çš„åˆ‡ç‰‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%80%BC%E4%B8%BA%E5%88%87%E7%89%87%E7%B1%BB%E5%9E%8B%E7%9A%84map"><span class="toc-number">5.8.</span> <span class="toc-text">å€¼ä¸ºåˆ‡ç‰‡ç±»å‹çš„map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">5.9.</span> <span class="toc-text">ç»ƒä¹ </span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="toc-number">6.1.</span> <span class="toc-text">å‡½æ•°å®šä¹‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8"><span class="toc-number">6.2.</span> <span class="toc-text">å‡½æ•°çš„è°ƒç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number">6.3.</span> <span class="toc-text">å‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E7%AE%80%E5%86%99"><span class="toc-number">6.3.1.</span> <span class="toc-text">ç±»å‹ç®€å†™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="toc-number">6.3.2.</span> <span class="toc-text">å¯å˜å‚æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%91%8D%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">6.4.</span> <span class="toc-text">ğŸ‘è¿”å›å€¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">6.4.1.</span> <span class="toc-text">å¤šè¿”å›å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC%E5%91%BD%E5%90%8D"><span class="toc-number">6.4.2.</span> <span class="toc-text">è¿”å›å€¼å‘½å</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC%E8%A1%A5%E5%85%85"><span class="toc-number">6.4.3.</span> <span class="toc-text">è¿”å›å€¼è¡¥å……</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6"><span class="toc-number">7.</span> <span class="toc-text">å‡½æ•°è¿›é˜¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%98%E9%87%8F"><span class="toc-number">7.1.</span> <span class="toc-text">å‡½æ•°ç±»å‹ä¸å˜é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.1.1.</span> <span class="toc-text">å®šä¹‰å‡½æ•°ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B%E5%8F%98%E9%87%8F"><span class="toc-number">7.1.2.</span> <span class="toc-text">å‡½æ•°ç±»å‹å˜é‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-number">7.2.</span> <span class="toc-text">é«˜é˜¶å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0"><span class="toc-number">7.2.1.</span> <span class="toc-text">å‡½æ•°ä½œä¸ºå‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">7.2.2.</span> <span class="toc-text">å‡½æ•°ä½œä¸ºè¿”å›å€¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E5%92%8C%E9%97%AD%E5%8C%85"><span class="toc-number">7.3.</span> <span class="toc-text">åŒ¿åå‡½æ•°å’Œé—­åŒ…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">7.3.1.</span> <span class="toc-text">åŒ¿åå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">7.3.2.</span> <span class="toc-text">é—­åŒ…</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#defer%E5%BB%B6%E8%BF%9F%E8%AF%AD%E5%8F%A5"><span class="toc-number">7.4.</span> <span class="toc-text">deferå»¶è¿Ÿè¯­å¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#defer%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA"><span class="toc-number">7.4.1.</span> <span class="toc-text">deferæ‰§è¡Œæ—¶æœº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#defer%E7%BB%8F%E5%85%B8%E6%A1%88%E4%BE%8B"><span class="toc-number">7.4.2.</span> <span class="toc-text">deferç»å…¸æ¡ˆä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#defer%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">7.4.3.</span> <span class="toc-text">deferé¢è¯•é¢˜</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-number">8.</span> <span class="toc-text">å†…ç½®å‡½æ•°ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#panic-recover"><span class="toc-number">8.0.1.</span> <span class="toc-text">panic&#x2F;recover</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0-1"><span class="toc-number">9.</span> <span class="toc-text">ç»ƒä¹ </span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://Shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="ifDo7"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="ifDo7's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Goå…¥é—¨</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2021-11-22 19:27:00" itemprop="dateCreated datePublished" datetime="2021-11-22T19:27:00+08:00">2021-11-22</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-11-23 23:44:46" itemprop="dateModified" datetime="2021-11-23T23:44:46+08:00">2021-11-23</time></div><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Go/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Go</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/notes/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">notes</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p><del>(çº¯æ¬è¿ï¼Œæ€•è¿™ç©æ„çªç„¶æ²¡äº†)</del></p>
<h1 id="è¿è¡Œ-Hello-World"><a href="#è¿è¡Œ-Hello-World" class="headerlink" title="è¿è¡Œ Hello,World!"></a>è¿è¡Œ Hello,World!</h1><p>æ‰“å¼€GoLandï¼Œ</p>
<h2 id="new-projectï¼š"><a href="#new-projectï¼š" class="headerlink" title="new projectï¼š"></a><strong>new projectï¼š</strong></h2><p><img src="./image-20211122194327110.png" alt="image-20211122194327110.png"></p>
<p>å¦‚æœæœ¬åœ°<strong>SDK</strong>å¯¼å…¥æ—¶æŠ¥é”™ï¼š</p>
<p>æ‰¾åˆ°ä¸‹å›¾ä½ç½®ï¼ˆå®‰è£…Goçš„æ–‡ä»¶å¤¹ä¸‹ï¼‰ï¼š</p>
<img src="./image-20211122193908635.png" alt="image-20211122193908635" style="zoom: 67%;" />

<p>å†™å…¥çš„ä»£ç ä¸ºï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">const</span> theVersion <span class="token operator">=</span> <span class="token string">`go1.17`</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="new-Go-Fileï¼š"><a href="#new-Go-Fileï¼š" class="headerlink" title="new Go Fileï¼š"></a><strong>new Go Fileï¼š</strong></h2><img src="./image-20211122194603525.png" alt="image-20211122194603525" style="zoom:50%;" />

<p>å†™ä¸€ä¸ªç®€å•çš„ç¨‹åºï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> awesomeProject

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello,World!"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="æ·»åŠ é…ç½®ï¼š"><a href="#æ·»åŠ é…ç½®ï¼š" class="headerlink" title="æ·»åŠ é…ç½®ï¼š"></a><strong>æ·»åŠ é…ç½®ï¼š</strong></h2><img src="./image-20211122195345288.png" alt="image-20211122195345288" style="zoom: 67%;" />

<img src="./image-20211122195550247.png" alt="image-20211122195550247" style="zoom:67%;" />

<ul>
<li>è¿è¡ŒåæŠ¥é”™ï¼š</li>
</ul>
<div class = "danger">


<blockquote>
<p>go: go.mod file not found in current directory or any parent directory; see â€˜go help modulesâ€™</p>
</blockquote>
</div>

<ul>
<li>è§£å†³æ–¹æ³•ï¼š</li>
</ul>
<img src="./image-20211122195912574.png" alt="image-20211122195912574" style="zoom:67%;" />

<ul>
<li><ul>
<li>ä¾ç„¶æŠ¥é”™ï¼š</li>
</ul>
</li>
</ul>
<img src="./image-20211122195952278.png" alt="image-20211122195952278" style="zoom:68%;" />

<ul>
<li><ul>
<li>è§£å†³æ–¹æ³•ï¼š</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> awesomeProject
<span class="token comment">//ä¿®æ”¹ä¸º</span>
<span class="token keyword">package</span> main

<span class="token comment">//æŒ‡å®šmainåŒ…æ—¶ï¼Œå³å¯ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œçš„exeæ–‡ä»¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="è¿è¡ŒæˆåŠŸï¼š"><a href="#è¿è¡ŒæˆåŠŸï¼š" class="headerlink" title="è¿è¡ŒæˆåŠŸï¼š"></a><strong>è¿è¡ŒæˆåŠŸï¼š</strong></h2><img src="./image-20211122200314917.png" alt="image-20211122200314917" style="zoom:67%;" />

<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>ç»ˆç«¯è¾“å…¥ï¼š<code>go install</code>ï¼Œä¼šåœ¨<strong>bin</strong>ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªexeæ–‡ä»¶ï¼Œ<code>go install -o xxx.exe</code>å¯æŒ‡å®šåç§°ã€‚</p>
<h3 id="è·¨å¹³å°ç¼–è¯‘"><a href="#è·¨å¹³å°ç¼–è¯‘" class="headerlink" title="è·¨å¹³å°ç¼–è¯‘"></a>è·¨å¹³å°ç¼–è¯‘</h3><p>é»˜è®¤æˆ‘ä»¬<code>go build</code>çš„å¯æ‰§è¡Œæ–‡ä»¶éƒ½æ˜¯å½“å‰æ“ä½œç³»ç»Ÿå¯æ‰§è¡Œçš„æ–‡ä»¶ï¼Œå¦‚æœæˆ‘æƒ³åœ¨windowsä¸‹ç¼–è¯‘ä¸€ä¸ªlinuxä¸‹å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‚£éœ€è¦æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<p>åªéœ€è¦æŒ‡å®šç›®æ ‡æ“ä½œç³»ç»Ÿçš„å¹³å°å’Œå¤„ç†å™¨æ¶æ„å³å¯ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">SET <span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span>  // ç¦ç”¨CGO
SET <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>linux  // ç›®æ ‡å¹³å°æ˜¯linux
SET <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64  // ç›®æ ‡å¤„ç†å™¨æ¶æ„æ˜¯amd64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><em>ä½¿ç”¨äº†cgoçš„ä»£ç æ˜¯ä¸æ”¯æŒè·¨å¹³å°ç¼–è¯‘çš„</em></p>
<p>ç„¶åå†æ‰§è¡Œ<code>go build</code>å‘½ä»¤ï¼Œå¾—åˆ°çš„å°±æ˜¯èƒ½å¤Ÿåœ¨Linuxå¹³å°è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶äº†ã€‚</p>
<p>Mac ä¸‹ç¼–è¯‘ Linux å’Œ Windowså¹³å° 64ä½ å¯æ‰§è¡Œç¨‹åºï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>linux <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64 go build
<span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>windows <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64 go build<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>Linux ä¸‹ç¼–è¯‘ Mac å’Œ Windows å¹³å°64ä½å¯æ‰§è¡Œç¨‹åºï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>darwin <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64 go build
<span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>windows <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64 go build<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>Windowsä¸‹ç¼–è¯‘Macå¹³å°64ä½å¯æ‰§è¡Œç¨‹åºï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">SET <span class="token assign-left variable">CGO_ENABLED</span><span class="token operator">=</span><span class="token number">0</span>
SET <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>darwin
SET <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>amd64
go build<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h1 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h1><h2 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h2><p>è¯­æ³•æ ¼å¼ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> å˜é‡å å˜é‡ç±»å‹
<span class="token comment">/////å•ç‹¬å£°æ˜/////</span>
<span class="token keyword">var</span> name <span class="token builtin">string</span>
<span class="token keyword">var</span> age  <span class="token builtin">int</span>
<span class="token keyword">var</span> isOK <span class="token builtin">bool</span>
<span class="token comment">/////æ‰¹é‡å£°æ˜/////</span>
<span class="token keyword">var</span><span class="token punctuation">(</span>
		name <span class="token builtin">string</span>
		age <span class="token builtin">int</span>
		isOK <span class="token builtin">bool</span>
	<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> å˜é‡å ç±»å‹ <span class="token operator">=</span> è¡¨è¾¾å¼
<span class="token comment">///////å•ç‹¬èµ‹å€¼////////</span>
<span class="token keyword">var</span> name <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"ifDo7"</span>
<span class="token keyword">var</span> age  <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">22</span>
<span class="token comment">///////æ‰¹é‡èµ‹å€¼////////</span>
name<span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token string">"ifDo7"</span><span class="token punctuation">,</span> <span class="token number">22</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ğŸ‘<strong>ç±»å‹æ¨å¯¼</strong></p>
<blockquote>
<p>æœ‰æ—¶å€™æˆ‘ä»¬ä¼šå°†å˜é‡çš„ç±»å‹çœç•¥ï¼Œè¿™ä¸ªæ—¶å€™ç¼–è¯‘å™¨ä¼šæ ¹æ®ç­‰å·å³è¾¹çš„å€¼æ¥æ¨å¯¼å˜é‡çš„ç±»å‹å®Œæˆåˆå§‹åŒ–ã€‚</p>
</blockquote>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"ifDo7"</span>
<span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">22</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>çŸ­å˜é‡å£°æ˜</strong></p>
<blockquote>
<p>åœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨æ›´ç®€ç•¥çš„ <code>:=</code> æ–¹å¼å£°æ˜å¹¶åˆå§‹åŒ–å˜é‡ã€‚</p>
</blockquote>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token comment">// å…¨å±€å˜é‡m</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">100</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	n <span class="token operator">:=</span> <span class="token number">10</span>
	m <span class="token operator">:=</span> <span class="token number">200</span> <span class="token comment">// æ­¤å¤„å£°æ˜å±€éƒ¨å˜é‡m</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ğŸ‘<strong>åŒ¿åå˜é‡</strong></p>
<blockquote>
<p>åœ¨ä½¿ç”¨å¤šé‡èµ‹å€¼æ—¶ï¼Œå¦‚æœæƒ³è¦å¿½ç•¥æŸä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨<code>åŒ¿åå˜é‡ï¼ˆanonymous variableï¼‰</code>ã€‚ åŒ¿åå˜é‡ç”¨ä¸€ä¸ªä¸‹åˆ’çº¿<code>_</code>è¡¨ç¤ºã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"Q1mi"</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	x<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token boolean">_</span><span class="token punctuation">,</span> y <span class="token operator">:=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"x="</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"y="</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åŒ¿åå˜é‡ä¸å ç”¨å‘½åç©ºé—´ï¼Œä¸ä¼šåˆ†é…å†…å­˜ï¼Œæ‰€ä»¥åŒ¿åå˜é‡ä¹‹é—´ä¸å­˜åœ¨é‡å¤å£°æ˜ã€‚ (åœ¨<code>Lua</code>ç­‰ç¼–ç¨‹è¯­è¨€é‡Œï¼ŒåŒ¿åå˜é‡ä¹Ÿè¢«å«åšå“‘å…ƒå˜é‡ã€‚)</p>
<h2 id="ğŸ”´æ³¨æ„äº‹é¡¹ï¼š"><a href="#ğŸ”´æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="ğŸ”´æ³¨æ„äº‹é¡¹ï¼š"></a>ğŸ”´æ³¨æ„äº‹é¡¹ï¼š</h2><ul>
<li><p>å‡½æ•°å¤–çš„æ¯ä¸ªè¯­å¥éƒ½å¿…é¡»ä»¥å…³é”®å­—å¼€å§‹ï¼ˆvarã€constã€funcç­‰ï¼‰</p>
</li>
<li><p><code>:=</code>ä¸èƒ½ä½¿ç”¨åœ¨å‡½æ•°å¤–ã€‚</p>
</li>
<li><p><code>_</code>å¤šç”¨äºå ä½ï¼Œè¡¨ç¤ºå¿½ç•¥å€¼ã€‚</p>
</li>
</ul>
<h1 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h1><blockquote>
<p>å¸¸é‡çš„å£°æ˜å’Œå˜é‡å£°æ˜éå¸¸ç±»ä¼¼ï¼Œåªæ˜¯æŠŠ<code>var</code>æ¢æˆäº†<code>const</code>ï¼Œå¸¸é‡åœ¨å®šä¹‰çš„æ—¶å€™<strong>å¿…é¡»</strong>èµ‹å€¼ã€‚</p>
</blockquote>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">const</span> pi <span class="token operator">=</span> <span class="token number">3.14159</span>
<span class="token keyword">const</span> e  <span class="token operator">=</span> <span class="token number">2.71828</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>å¤šä¸ªå¸¸é‡ä¹Ÿå¯ä»¥ä¸€èµ·å£°æ˜ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">const</span> <span class="token punctuation">(</span>
    pi <span class="token operator">=</span> <span class="token number">3.14159</span>
    e  <span class="token operator">=</span> <span class="token number">2.71828</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>const</code>åŒæ—¶å£°æ˜å¤šä¸ªå¸¸é‡æ—¶ï¼Œå¦‚æœçœç•¥äº†å€¼åˆ™è¡¨ç¤ºå’Œä¸Šé¢ä¸€è¡Œçš„å€¼ç›¸åŒã€‚ ä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">const</span> <span class="token punctuation">(</span>
    n1 <span class="token operator">=</span> <span class="token number">100</span>
    n2
    n3
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¸¸é‡<code>n1</code>ã€<code>n2</code>ã€<code>n3</code>çš„å€¼éƒ½æ˜¯100ã€‚</p>
<h2 id="iota"><a href="#iota" class="headerlink" title="iota"></a><strong>iota</strong></h2><blockquote>
<p><code>iota</code>æ˜¯goè¯­è¨€çš„å¸¸é‡è®¡æ•°å™¨ï¼Œåªèƒ½åœ¨å¸¸é‡çš„è¡¨è¾¾å¼ä¸­ä½¿ç”¨ã€‚</p>
</blockquote>
<ul>
<li><p><code>iota</code>åœ¨constå…³é”®å­—å‡ºç°æ—¶å°†è¢«é‡ç½®ä¸º0ã€‚</p>
</li>
<li><p><code>const</code>ä¸­æ¯æ–°å¢ä¸€è¡Œå¸¸é‡å£°æ˜å°†ä½¿<code>iota</code>è®¡æ•°ä¸€æ¬¡(iotaå¯ç†è§£ä¸ºconstè¯­å¥å—ä¸­çš„è¡Œç´¢å¼•)ã€‚ </p>
</li>
</ul>
<blockquote>
<p>ä½¿ç”¨iotaèƒ½ç®€åŒ–å®šä¹‰ï¼Œåœ¨å®šä¹‰æšä¸¾æ—¶å¾ˆæœ‰ç”¨ã€‚</p>
</blockquote>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">const</span> <span class="token punctuation">(</span>
		n1 <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">//0</span>
		n2        <span class="token comment">//1</span>
		n3        <span class="token comment">//2</span>
		n4        <span class="token comment">//3</span>
	<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="å‡ ä¸ªå¸¸è§çš„iotaç¤ºä¾‹"><a href="#å‡ ä¸ªå¸¸è§çš„iotaç¤ºä¾‹" class="headerlink" title="å‡ ä¸ªå¸¸è§çš„iotaç¤ºä¾‹:"></a>å‡ ä¸ªå¸¸è§çš„<code>iota</code>ç¤ºä¾‹:</h3><p>ä½¿ç”¨<code>_</code>è·³è¿‡æŸäº›å€¼</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">const</span> <span class="token punctuation">(</span>
		n1 <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">//0</span>
		n2        <span class="token comment">//1</span>
		<span class="token boolean">_</span>
		n4        <span class="token comment">//3</span>
	<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>iota</code>å£°æ˜ä¸­é—´æ’é˜Ÿ</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">const</span> <span class="token punctuation">(</span>
		n1 <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">//0</span>
		n2 <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment">//100</span>
		n3 <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">//2</span>
		n4        <span class="token comment">//3</span>
	<span class="token punctuation">)</span>
	<span class="token keyword">const</span> n5 <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">//0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å®šä¹‰æ•°é‡çº§ ï¼ˆè¿™é‡Œçš„<code>&lt;&lt;</code>è¡¨ç¤ºå·¦ç§»æ“ä½œï¼Œ<code>1&lt;&lt;10</code>è¡¨ç¤ºå°†1çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å·¦ç§»10ä½ï¼Œä¹Ÿå°±æ˜¯ç”±<code>1</code>å˜æˆäº†<code>10000000000</code>ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶çš„1024ã€‚åŒç†<code>2&lt;&lt;2</code>è¡¨ç¤ºå°†2çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å·¦ç§»2ä½ï¼Œä¹Ÿå°±æ˜¯ç”±<code>10</code>å˜æˆäº†<code>1000</code>ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶çš„8ã€‚ï¼‰</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">const</span> <span class="token punctuation">(</span>
		<span class="token boolean">_</span>  <span class="token operator">=</span> <span class="token boolean">iota</span>
		KB <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> <span class="token boolean">iota</span><span class="token punctuation">)</span>
		MB <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> <span class="token boolean">iota</span><span class="token punctuation">)</span>
		GB <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> <span class="token boolean">iota</span><span class="token punctuation">)</span>
		TB <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> <span class="token boolean">iota</span><span class="token punctuation">)</span>
		PB <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> <span class="token boolean">iota</span><span class="token punctuation">)</span>
	<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¤šä¸ª<code>iota</code>å®šä¹‰åœ¨ä¸€è¡Œ</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">const</span> <span class="token punctuation">(</span>
		a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">iota</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token comment">//1,2</span>
		c<span class="token punctuation">,</span> d                      <span class="token comment">//2,3</span>
		e<span class="token punctuation">,</span> f                      <span class="token comment">//3,4</span>
	<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="å¸ƒå°”å€¼"><a href="#å¸ƒå°”å€¼" class="headerlink" title="å¸ƒå°”å€¼"></a>å¸ƒå°”å€¼</h2><p>Goè¯­è¨€ä¸­ä»¥<code>bool</code>ç±»å‹è¿›è¡Œå£°æ˜å¸ƒå°”å‹æ•°æ®ï¼Œå¸ƒå°”å‹æ•°æ®åªæœ‰<code>trueï¼ˆçœŸï¼‰</code>å’Œ<code>falseï¼ˆå‡ï¼‰</code>ä¸¤ä¸ªå€¼ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>å¸ƒå°”ç±»å‹å˜é‡çš„é»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
<li>Go è¯­è¨€ä¸­ä¸å…è®¸å°†æ•´å‹å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒå°”å‹.</li>
<li>å¸ƒå°”å‹æ— æ³•å‚ä¸æ•°å€¼è¿ç®—ï¼Œä¹Ÿæ— æ³•ä¸å…¶ä»–ç±»å‹è¿›è¡Œè½¬æ¢ã€‚</li>
</ol>
<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><p>Goè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²ä»¥åŸç”Ÿæ•°æ®ç±»å‹å‡ºç°ï¼Œä½¿ç”¨å­—ç¬¦ä¸²å°±åƒä½¿ç”¨å…¶ä»–åŸç”Ÿæ•°æ®ç±»å‹ï¼ˆintã€boolã€float32ã€float64 ç­‰ï¼‰ä¸€æ ·ã€‚ Go è¯­è¨€é‡Œçš„å­—ç¬¦ä¸²çš„å†…éƒ¨å®ç°ä½¿ç”¨<code>UTF-8</code>ç¼–ç ã€‚ å­—ç¬¦ä¸²çš„å€¼ä¸º<code>åŒå¼•å·(&quot;)</code>ä¸­çš„å†…å®¹ï¼Œå¯ä»¥åœ¨Goè¯­è¨€çš„æºç ä¸­ç›´æ¥æ·»åŠ éASCIIç å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">s1 <span class="token operator">:=</span> <span class="token string">"hello"</span>
s2 <span class="token operator">:=</span> <span class="token string">"ä½ å¥½"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="å­—ç¬¦ä¸²è½¬ä¹‰ç¬¦"><a href="#å­—ç¬¦ä¸²è½¬ä¹‰ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²è½¬ä¹‰ç¬¦"></a>å­—ç¬¦ä¸²è½¬ä¹‰ç¬¦</h3><p>Go è¯­è¨€çš„å­—ç¬¦ä¸²å¸¸è§è½¬ä¹‰ç¬¦åŒ…å«å›è½¦ã€æ¢è¡Œã€å•åŒå¼•å·ã€åˆ¶è¡¨ç¬¦ç­‰ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>
<table>
<thead>
<tr>
<th align="center">è½¬ä¹‰ç¬¦</th>
<th align="center">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>\r</code></td>
<td align="center">å›è½¦ç¬¦ï¼ˆè¿”å›è¡Œé¦–ï¼‰</td>
</tr>
<tr>
<td align="center"><code>\n</code></td>
<td align="center">æ¢è¡Œç¬¦ï¼ˆç›´æ¥è·³åˆ°ä¸‹ä¸€è¡Œçš„åŒåˆ—ä½ç½®ï¼‰</td>
</tr>
<tr>
<td align="center"><code>\t</code></td>
<td align="center">åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td align="center"><code>\&#39;</code></td>
<td align="center">å•å¼•å·</td>
</tr>
<tr>
<td align="center"><code>\&quot;</code></td>
<td align="center">åŒå¼•å·</td>
</tr>
<tr>
<td align="center"><code>\\</code></td>
<td align="center">åæ–œæ </td>
</tr>
</tbody></table>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è¦æ‰“å°ä¸€ä¸ªWindowså¹³å°ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"str := \"c:\\Code\\lesson\\go.exe\""</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="å¤šè¡Œå­—ç¬¦ä¸²"><a href="#å¤šè¡Œå­—ç¬¦ä¸²" class="headerlink" title="å¤šè¡Œå­—ç¬¦ä¸²"></a>å¤šè¡Œå­—ç¬¦ä¸²</h3><p>Goè¯­è¨€ä¸­è¦å®šä¹‰ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²æ—¶ï¼Œå°±å¿…é¡»ä½¿ç”¨<code>åå¼•å·</code>å­—ç¬¦ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">s1 <span class="token operator">:=</span> <span class="token string">`ç¬¬ä¸€è¡Œ
ç¬¬äºŒè¡Œ
ç¬¬ä¸‰è¡Œ
`</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åå¼•å·é—´æ¢è¡Œå°†è¢«ä½œä¸ºå­—ç¬¦ä¸²ä¸­çš„æ¢è¡Œï¼Œä½†æ˜¯æ‰€æœ‰çš„<strong>è½¬ä¹‰å­—ç¬¦å‡æ— æ•ˆ</strong>ï¼Œæ–‡æœ¬å°†ä¼šåŸæ ·è¾“å‡ºã€‚</p>
<h3 id="å­—ç¬¦ä¸²çš„å¸¸ç”¨æ“ä½œ"><a href="#å­—ç¬¦ä¸²çš„å¸¸ç”¨æ“ä½œ" class="headerlink" title="å­—ç¬¦ä¸²çš„å¸¸ç”¨æ“ä½œ"></a>å­—ç¬¦ä¸²çš„å¸¸ç”¨æ“ä½œ</h3><table>
<thead>
<tr>
<th align="center">æ–¹æ³•</th>
<th align="center">ä»‹ç»</th>
</tr>
</thead>
<tbody><tr>
<td align="center">len(str)</td>
<td align="center">æ±‚é•¿åº¦</td>
</tr>
<tr>
<td align="center">+æˆ–fmt.Sprintf</td>
<td align="center">æ‹¼æ¥å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="center">strings.Split</td>
<td align="center">åˆ†å‰²</td>
</tr>
<tr>
<td align="center">strings.contains</td>
<td align="center">åˆ¤æ–­æ˜¯å¦åŒ…å«</td>
</tr>
<tr>
<td align="center">strings.HasPrefix,strings.HasSuffix</td>
<td align="center">å‰ç¼€/åç¼€åˆ¤æ–­</td>
</tr>
<tr>
<td align="center">strings.Index(),strings.LastIndex()</td>
<td align="center">å­ä¸²å‡ºç°çš„ä½ç½®</td>
</tr>
<tr>
<td align="center">strings.Join(a[]string, sep string)</td>
<td align="center">joinæ“ä½œ</td>
</tr>
</tbody></table>
<h2 id="byteå’Œruneç±»å‹"><a href="#byteå’Œruneç±»å‹" class="headerlink" title="byteå’Œruneç±»å‹"></a>byteå’Œruneç±»å‹</h2><p>ç»„æˆæ¯ä¸ªå­—ç¬¦ä¸²çš„å…ƒç´ å«åšâ€œå­—ç¬¦â€ï¼Œå¯ä»¥é€šè¿‡éå†æˆ–è€…å•ä¸ªè·å–å­—ç¬¦ä¸²å…ƒç´ è·å¾—å­—ç¬¦ã€‚ å­—ç¬¦ç”¨å•å¼•å·ï¼ˆâ€™ï¼‰åŒ…è£¹èµ·æ¥ï¼Œå¦‚ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'ä¸­'</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">'x'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>Go è¯­è¨€çš„å­—ç¬¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š</p>
<ol>
<li><code>uint8</code>ç±»å‹ï¼Œæˆ–è€…å« byte å‹ï¼Œä»£è¡¨äº†<code>ASCIIç </code>çš„ä¸€ä¸ªå­—ç¬¦ã€‚</li>
<li><code>rune</code>ç±»å‹ï¼Œä»£è¡¨ä¸€ä¸ª <code>UTF-8å­—ç¬¦</code>ã€‚</li>
</ol>
<p>å½“éœ€è¦å¤„ç†ä¸­æ–‡ã€æ—¥æ–‡æˆ–è€…å…¶ä»–å¤åˆå­—ç¬¦æ—¶ï¼Œåˆ™éœ€è¦ç”¨åˆ°<code>rune</code>ç±»å‹ã€‚<code>rune</code>ç±»å‹å®é™…æ˜¯ä¸€ä¸ª<code>int32</code>ã€‚</p>
<p>Go ä½¿ç”¨äº†ç‰¹æ®Šçš„ rune ç±»å‹æ¥å¤„ç† Unicodeï¼Œè®©åŸºäº Unicode çš„æ–‡æœ¬å¤„ç†æ›´ä¸ºæ–¹ä¾¿ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ byte å‹è¿›è¡Œé»˜è®¤å­—ç¬¦ä¸²å¤„ç†ï¼Œæ€§èƒ½å’Œæ‰©å±•æ€§éƒ½æœ‰ç…§é¡¾ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// éå†å­—ç¬¦ä¸²</span>
<span class="token keyword">func</span> <span class="token function">traversalString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	s <span class="token operator">:=</span> <span class="token string">"helloæ²™æ²³"</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span> <span class="token comment">//byte</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v(%c) "</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> r <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">&#123;</span> <span class="token comment">//rune</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v(%c) "</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡ºï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">104</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token number">101</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token number">108</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token number">108</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token number">111</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token number">230</span><span class="token punctuation">(</span>Ã¦<span class="token punctuation">)</span> <span class="token number">178</span><span class="token punctuation">(</span>Â²<span class="token punctuation">)</span> <span class="token number">153</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token number">230</span><span class="token punctuation">(</span>Ã¦<span class="token punctuation">)</span> <span class="token number">178</span><span class="token punctuation">(</span>Â²<span class="token punctuation">)</span> <span class="token number">179</span><span class="token punctuation">(</span>Â³<span class="token punctuation">)</span> 
<span class="token number">104</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token number">101</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token number">108</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token number">108</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token number">111</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token number">27801</span><span class="token punctuation">(</span>æ²™<span class="token punctuation">)</span> <span class="token number">27827</span><span class="token punctuation">(</span>æ²³<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>å› ä¸ºUTF8ç¼–ç ä¸‹ä¸€ä¸ªä¸­æ–‡æ±‰å­—ç”±3~4ä¸ªå­—èŠ‚ç»„æˆï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ç®€å•çš„æŒ‰ç…§å­—èŠ‚å»éå†ä¸€ä¸ªåŒ…å«ä¸­æ–‡çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™å°±ä¼šå‡ºç°ä¸Šé¢è¾“å‡ºä¸­ç¬¬ä¸€è¡Œçš„ç»“æœã€‚</p>
<p>å­—ç¬¦ä¸²åº•å±‚æ˜¯ä¸€ä¸ªbyteæ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥å’Œ<code>[]byte</code>ç±»å‹ç›¸äº’è½¬æ¢ã€‚å­—ç¬¦ä¸²æ˜¯ä¸èƒ½ä¿®æ”¹çš„ å­—ç¬¦ä¸²æ˜¯ç”±byteå­—èŠ‚ç»„æˆï¼Œæ‰€ä»¥å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯byteå­—èŠ‚çš„é•¿åº¦ã€‚ runeç±»å‹ç”¨æ¥è¡¨ç¤ºutf8å­—ç¬¦ï¼Œä¸€ä¸ªruneå­—ç¬¦ç”±ä¸€ä¸ªæˆ–å¤šä¸ªbyteç»„æˆã€‚</p>
<h3 id="ä¿®æ”¹å­—ç¬¦ä¸²"><a href="#ä¿®æ”¹å­—ç¬¦ä¸²" class="headerlink" title="ä¿®æ”¹å­—ç¬¦ä¸²"></a>ä¿®æ”¹å­—ç¬¦ä¸²</h3><p>è¦ä¿®æ”¹å­—ç¬¦ä¸²ï¼Œéœ€è¦å…ˆå°†å…¶è½¬æ¢æˆ<code>[]rune</code>æˆ–<code>[]byte</code>ï¼Œå®Œæˆåå†è½¬æ¢ä¸º<code>string</code>ã€‚æ— è®ºå“ªç§è½¬æ¢ï¼Œéƒ½ä¼šé‡æ–°åˆ†é…å†…å­˜ï¼Œå¹¶å¤åˆ¶å­—èŠ‚æ•°ç»„ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">changeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	s1 <span class="token operator">:=</span> <span class="token string">"big"</span>
	<span class="token comment">// å¼ºåˆ¶ç±»å‹è½¬æ¢</span>
	byteS1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
	byteS1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'p'</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>byteS1<span class="token punctuation">)</span><span class="token punctuation">)</span>

	s2 <span class="token operator">:=</span> <span class="token string">"ç™½èåœ"</span>
	runeS2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span>
	runeS2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'çº¢'</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>runeS2<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h2><blockquote>
<p>Goè¯­è¨€ä¸­åªæœ‰å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæ²¡æœ‰éšå¼ç±»å‹è½¬æ¢ã€‚</p>
</blockquote>
<p>è¯¥è¯­æ³•åªèƒ½åœ¨ä¸¤ä¸ªç±»å‹ä¹‹é—´æ”¯æŒç›¸äº’è½¬æ¢çš„æ—¶å€™ä½¿ç”¨ã€‚</p>
<p>å¼ºåˆ¶ç±»å‹è½¬æ¢çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">T<span class="token punctuation">(</span>è¡¨è¾¾å¼<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å…¶ä¸­ï¼ŒTè¡¨ç¤ºè¦è½¬æ¢çš„ç±»å‹ã€‚è¡¨è¾¾å¼åŒ…æ‹¬å˜é‡ã€å¤æ‚ç®—å­å’Œå‡½æ•°è¿”å›å€¼ç­‰.</p>
<p>æ¯”å¦‚è®¡ç®—ç›´è§’ä¸‰è§’å½¢çš„æ–œè¾¹é•¿æ—¶ä½¿ç”¨mathåŒ…çš„Sqrt()å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶çš„æ˜¯float64ç±»å‹çš„å‚æ•°ï¼Œè€Œå˜é‡aå’Œbéƒ½æ˜¯intç±»å‹çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å°†aå’Œbå¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºfloat64ç±»å‹ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">sqrtDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span>
	<span class="token keyword">var</span> c <span class="token builtin">int</span>
	<span class="token comment">// math.Sqrt()æ¥æ”¶çš„å‚æ•°æ˜¯float64ç±»å‹ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢</span>
	c <span class="token operator">=</span> <span class="token function">int</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span><span class="token function">float64</span><span class="token punctuation">(</span>a<span class="token operator">*</span>a <span class="token operator">+</span> b<span class="token operator">*</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h1><p>åˆ‡ç‰‡ï¼ˆSliceï¼‰æ˜¯ä¸€ä¸ªæ‹¥æœ‰ç›¸åŒç±»å‹å…ƒç´ çš„å¯å˜é•¿åº¦çš„åºåˆ—ã€‚å®ƒæ˜¯åŸºäºæ•°ç»„ç±»å‹åšçš„ä¸€å±‚å°è£…ã€‚å®ƒéå¸¸çµæ´»ï¼Œæ”¯æŒè‡ªåŠ¨æ‰©å®¹ã€‚</p>
<p>åˆ‡ç‰‡æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œå®ƒçš„å†…éƒ¨ç»“æ„åŒ…å«<code>åœ°å€</code>ã€<code>é•¿åº¦</code>å’Œ<code>å®¹é‡</code>ã€‚åˆ‡ç‰‡ä¸€èˆ¬ç”¨äºå¿«é€Ÿåœ°æ“ä½œä¸€å—æ•°æ®é›†åˆã€‚</p>
<h2 id="åˆ‡ç‰‡çš„å®šä¹‰"><a href="#åˆ‡ç‰‡çš„å®šä¹‰" class="headerlink" title="åˆ‡ç‰‡çš„å®šä¹‰"></a>åˆ‡ç‰‡çš„å®šä¹‰</h2><p>å£°æ˜åˆ‡ç‰‡ç±»å‹çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> name <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å…¶ä¸­ï¼Œ</p>
<ul>
<li>nameï¼šè¡¨ç¤ºå˜é‡å</li>
<li>Tï¼šè¡¨ç¤ºåˆ‡ç‰‡ä¸­çš„å…ƒç´ ç±»å‹</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">// å£°æ˜åˆ‡ç‰‡ç±»å‹</span>
	<span class="token keyword">var</span> a <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>              <span class="token comment">//å£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡</span>
	<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>             <span class="token comment">//å£°æ˜ä¸€ä¸ªæ•´å‹åˆ‡ç‰‡å¹¶åˆå§‹åŒ–</span>
	<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span> <span class="token comment">//å£°æ˜ä¸€ä¸ªå¸ƒå°”åˆ‡ç‰‡å¹¶åˆå§‹åŒ–</span>
	<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span> <span class="token comment">//å£°æ˜ä¸€ä¸ªå¸ƒå°”åˆ‡ç‰‡å¹¶åˆå§‹åŒ–</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>              <span class="token comment">//[]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>              <span class="token comment">//[]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>              <span class="token comment">//[false true]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>       <span class="token comment">//true</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>       <span class="token comment">//false</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>       <span class="token comment">//false</span>
	<span class="token comment">// fmt.Println(c == d)   //åˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸æ”¯æŒç›´æ¥æ¯”è¾ƒï¼Œåªèƒ½å’Œnilæ¯”è¾ƒ</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡"><a href="#åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡" class="headerlink" title="åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡"></a>åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡</h3><p>åˆ‡ç‰‡æ‹¥æœ‰è‡ªå·±çš„é•¿åº¦å’Œå®¹é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å†…ç½®çš„<code>len()</code>å‡½æ•°æ±‚<strong>é•¿åº¦</strong>ï¼Œä½¿ç”¨å†…ç½®çš„<code>cap()</code>å‡½æ•°æ±‚åˆ‡ç‰‡çš„<strong>å®¹é‡</strong>ã€‚</p>
<h3 id="åˆ‡ç‰‡è¡¨è¾¾å¼"><a href="#åˆ‡ç‰‡è¡¨è¾¾å¼" class="headerlink" title="åˆ‡ç‰‡è¡¨è¾¾å¼"></a>åˆ‡ç‰‡è¡¨è¾¾å¼</h3><p>åˆ‡ç‰‡è¡¨è¾¾å¼ä»å­—ç¬¦ä¸²ã€æ•°ç»„ã€æŒ‡å‘æ•°ç»„æˆ–åˆ‡ç‰‡çš„æŒ‡é’ˆæ„é€ å­å­—ç¬¦ä¸²æˆ–åˆ‡ç‰‡ã€‚å®ƒæœ‰ä¸¤ç§å˜ä½“ï¼šä¸€ç§æŒ‡å®šlowå’Œhighä¸¤ä¸ªç´¢å¼•ç•Œé™å€¼çš„ç®€å•çš„å½¢å¼ï¼Œå¦ä¸€ç§æ˜¯é™¤äº†lowå’Œhighç´¢å¼•ç•Œé™å€¼å¤–è¿˜æŒ‡å®šå®¹é‡çš„å®Œæ•´çš„å½¢å¼ã€‚</p>
<h4 id="ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼"><a href="#ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼" class="headerlink" title="ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼"></a>ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼</h4><p>åˆ‡ç‰‡çš„åº•å±‚å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åŸºäºæ•°ç»„é€šè¿‡åˆ‡ç‰‡è¡¨è¾¾å¼å¾—åˆ°åˆ‡ç‰‡ã€‚ åˆ‡ç‰‡è¡¨è¾¾å¼ä¸­çš„<code>low</code>å’Œ<code>high</code>è¡¨ç¤ºä¸€ä¸ªç´¢å¼•èŒƒå›´ï¼ˆå·¦åŒ…å«ï¼Œå³ä¸åŒ…å«ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢ä»£ç ä¸­ä»æ•°ç»„aä¸­é€‰å‡º<code>1&lt;=ç´¢å¼•å€¼&lt;4</code>çš„å…ƒç´ ç»„æˆåˆ‡ç‰‡sï¼Œå¾—åˆ°çš„åˆ‡ç‰‡<code>é•¿åº¦=high-low</code>ï¼Œå®¹é‡ç­‰äºå¾—åˆ°çš„åˆ‡ç‰‡çš„åº•å±‚æ•°ç»„çš„å®¹é‡ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">&#125;</span>
	s <span class="token operator">:=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">// s := a[low:high]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"s:%v len(s):%v cap(s):%v\n"</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡ºï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">s:<span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">]</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:2 cap<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå¯ä»¥çœç•¥åˆ‡ç‰‡è¡¨è¾¾å¼ä¸­çš„ä»»ä½•ç´¢å¼•ã€‚çœç•¥äº†<code>low</code>åˆ™é»˜è®¤ä¸º0ï¼›çœç•¥äº†<code>high</code>åˆ™é»˜è®¤ä¸ºåˆ‡ç‰‡æ“ä½œæ•°çš„é•¿åº¦:</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>  <span class="token comment">// ç­‰åŒäº a[2:len(a)]</span>
a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">// ç­‰åŒäº a[0:3]</span>
a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>   <span class="token comment">// ç­‰åŒäº a[0:len(a)]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>â€‹               ç´¢å¼•ä¹Ÿå¿…é¡»åœ¨æœ‰æ•ˆèŒƒå›´å†…ã€‚å¦‚æœ<code>low</code>å’Œ<code>high</code>ä¸¤ä¸ªæŒ‡æ ‡éƒ½æ˜¯å¸¸æ•°ï¼Œå®ƒä»¬å¿…é¡»æ»¡è¶³<code>low &lt;= high</code>ã€‚å¦‚æœç´¢å¼•åœ¨è¿è¡Œæ—¶è¶…å‡ºèŒƒå›´ï¼Œå°±ä¼šå‘ç”Ÿè¿è¡Œæ—¶<code>panic</code>ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">&#125;</span>
	s <span class="token operator">:=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">// s := a[low:high]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"s:%v len(s):%v cap(s):%v\n"</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
	s2 <span class="token operator">:=</span> s<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>  <span class="token comment">// ç´¢å¼•çš„ä¸Šé™æ˜¯cap(s)è€Œä¸æ˜¯len(s)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"s2:%v len(s2):%v cap(s2):%v\n"</span><span class="token punctuation">,</span> s2<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡ºï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">s:<span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">]</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:2 cap<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:4
s2:<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> len<span class="token punctuation">(</span>s2<span class="token punctuation">)</span>:1 cap<span class="token punctuation">(</span>s2<span class="token punctuation">)</span>:1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼"><a href="#å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼" class="headerlink" title="å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼"></a>å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼</h4><p>å¯¹äºæ•°ç»„ï¼ŒæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆï¼Œæˆ–åˆ‡ç‰‡a(<strong>æ³¨æ„ä¸èƒ½æ˜¯å­—ç¬¦ä¸²</strong>)æ”¯æŒå®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">a<span class="token punctuation">[</span>low <span class="token punctuation">:</span> high <span class="token punctuation">:</span> max<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>ä¸Šé¢çš„ä»£ç ä¼šæ„é€ ä¸ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼<code>a[low: high]</code>ç›¸åŒç±»å‹ã€ç›¸åŒé•¿åº¦å’Œå…ƒç´ çš„åˆ‡ç‰‡ã€‚å¦å¤–ï¼Œå®ƒä¼šå°†å¾—åˆ°çš„ç»“æœåˆ‡ç‰‡çš„å®¹é‡è®¾ç½®ä¸º<code>max-low</code>ã€‚åœ¨å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼ä¸­åªæœ‰ç¬¬ä¸€ä¸ªç´¢å¼•å€¼ï¼ˆlowï¼‰å¯ä»¥çœç•¥ï¼›å®ƒé»˜è®¤ä¸º0ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">&#125;</span>
	t <span class="token operator">:=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"t:%v len(t):%v cap(t):%v\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡ºç»“æœï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">t:<span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">]</span> len<span class="token punctuation">(</span>t<span class="token punctuation">)</span>:2 cap<span class="token punctuation">(</span>t<span class="token punctuation">)</span>:4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼éœ€è¦æ»¡è¶³çš„æ¡ä»¶æ˜¯<code>0 &lt;= low &lt;= high &lt;= max &lt;= cap(a)</code>ï¼Œå…¶ä»–æ¡ä»¶å’Œç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼ç›¸åŒã€‚</p>
<h3 id="ä½¿ç”¨make-å‡½æ•°æ„é€ åˆ‡ç‰‡"><a href="#ä½¿ç”¨make-å‡½æ•°æ„é€ åˆ‡ç‰‡" class="headerlink" title="ä½¿ç”¨make()å‡½æ•°æ„é€ åˆ‡ç‰‡"></a>ä½¿ç”¨make()å‡½æ•°æ„é€ åˆ‡ç‰‡</h3><p>æˆ‘ä»¬ä¸Šé¢éƒ½æ˜¯åŸºäºæ•°ç»„æ¥åˆ›å»ºçš„åˆ‡ç‰‡ï¼Œå¦‚æœéœ€è¦åŠ¨æ€çš„åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨å†…ç½®çš„<code>make()</code>å‡½æ•°ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">make<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>T, size, cap<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li>T:åˆ‡ç‰‡çš„å…ƒç´ ç±»å‹</li>
<li>size:åˆ‡ç‰‡ä¸­å…ƒç´ çš„æ•°é‡</li>
<li>cap:åˆ‡ç‰‡çš„å®¹é‡</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	a <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>      <span class="token comment">//[0 0]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//2</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">cap</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//10</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸Šé¢ä»£ç ä¸­<code>a</code>çš„å†…éƒ¨å­˜å‚¨ç©ºé—´å·²ç»åˆ†é…äº†10ä¸ªï¼Œä½†å®é™…ä¸Šåªç”¨äº†2ä¸ªã€‚ å®¹é‡å¹¶ä¸ä¼šå½±å“å½“å‰å…ƒç´ çš„ä¸ªæ•°ï¼Œæ‰€ä»¥<code>len(a)</code>è¿”å›2ï¼Œ<code>cap(a)</code>åˆ™è¿”å›è¯¥åˆ‡ç‰‡çš„å®¹é‡ã€‚</p>
<h3 id="åˆ‡ç‰‡çš„æœ¬è´¨"><a href="#åˆ‡ç‰‡çš„æœ¬è´¨" class="headerlink" title="åˆ‡ç‰‡çš„æœ¬è´¨"></a>åˆ‡ç‰‡çš„æœ¬è´¨</h3><p>åˆ‡ç‰‡çš„æœ¬è´¨å°±æ˜¯å¯¹åº•å±‚æ•°ç»„çš„å°è£…ï¼Œå®ƒåŒ…å«äº†ä¸‰ä¸ªä¿¡æ¯ï¼šåº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€åˆ‡ç‰‡çš„é•¿åº¦ï¼ˆlenï¼‰å’Œåˆ‡ç‰‡çš„å®¹é‡ï¼ˆcapï¼‰ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„<code>a := [8]int&#123;0, 1, 2, 3, 4, 5, 6, 7&#125;</code>ï¼Œåˆ‡ç‰‡<code>s1 := a[:5]</code>ï¼Œç›¸åº”ç¤ºæ„å›¾å¦‚ä¸‹ã€‚<img src="https://www.liwenzhou.com/images/Go/slice/slice_01.png" alt="slice_01">åˆ‡ç‰‡<code>s2 := a[3:6]</code>ï¼Œç›¸åº”ç¤ºæ„å›¾å¦‚ä¸‹ï¼š<img src="https://www.liwenzhou.com/images/Go/slice/slice_02.png" alt="slice_02"></p>
<h3 id="åˆ¤æ–­åˆ‡ç‰‡æ˜¯å¦ä¸ºç©º"><a href="#åˆ¤æ–­åˆ‡ç‰‡æ˜¯å¦ä¸ºç©º" class="headerlink" title="åˆ¤æ–­åˆ‡ç‰‡æ˜¯å¦ä¸ºç©º"></a>åˆ¤æ–­åˆ‡ç‰‡æ˜¯å¦ä¸ºç©º</h3><div class="danger">

<blockquote>
<p>è¦æ£€æŸ¥åˆ‡ç‰‡æ˜¯å¦ä¸ºç©ºï¼Œè¯·å§‹ç»ˆä½¿ç”¨<code>len(s) == 0</code>æ¥åˆ¤æ–­ï¼Œè€Œä¸åº”è¯¥ä½¿ç”¨<code>s == nil</code>æ¥åˆ¤æ–­ã€‚</p>
</blockquote>
</div>

<h2 id="åˆ‡ç‰‡ä¸èƒ½ç›´æ¥æ¯”è¾ƒ"><a href="#åˆ‡ç‰‡ä¸èƒ½ç›´æ¥æ¯”è¾ƒ" class="headerlink" title="åˆ‡ç‰‡ä¸èƒ½ç›´æ¥æ¯”è¾ƒ"></a>åˆ‡ç‰‡ä¸èƒ½ç›´æ¥æ¯”è¾ƒ</h2><p>åˆ‡ç‰‡ä¹‹é—´æ˜¯ä¸èƒ½æ¯”è¾ƒçš„ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨<code>==</code>æ“ä½œç¬¦æ¥åˆ¤æ–­ä¸¤ä¸ªåˆ‡ç‰‡æ˜¯å¦å«æœ‰å…¨éƒ¨ç›¸ç­‰å…ƒç´ ã€‚ </p>
<p>åˆ‡ç‰‡å”¯ä¸€åˆæ³•çš„æ¯”è¾ƒæ“ä½œæ˜¯å’Œ<code>nil</code>æ¯”è¾ƒã€‚</p>
<p> ä¸€ä¸ª<code>nil</code>å€¼çš„åˆ‡ç‰‡å¹¶æ²¡æœ‰åº•å±‚æ•°ç»„ï¼Œä¸€ä¸ª<code>nil</code>å€¼çš„åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯0ã€‚</p>
<p>ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½è¯´ä¸€ä¸ªé•¿åº¦å’Œå®¹é‡éƒ½æ˜¯0çš„åˆ‡ç‰‡ä¸€å®šæ˜¯<code>nil</code>ï¼Œä¾‹å¦‚ä¸‹é¢çš„ç¤ºä¾‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> s1 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>         <span class="token comment">//len(s1)=0;cap(s1)=0;s1==nil</span>
s2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token comment">//len(s2)=0;cap(s2)=0;s2!=nil</span>
s3 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">//len(s3)=0;cap(s3)=0;s3!=nil</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>æ‰€ä»¥è¦åˆ¤æ–­ä¸€ä¸ªåˆ‡ç‰‡æ˜¯å¦æ˜¯ç©ºçš„ï¼Œè¦æ˜¯ç”¨<code>len(s) == 0</code>æ¥åˆ¤æ–­ï¼Œä¸åº”è¯¥ä½¿ç”¨<code>s == nil</code>æ¥åˆ¤æ–­ã€‚</p>
<h2 id="åˆ‡ç‰‡çš„èµ‹å€¼æ‹·è´"><a href="#åˆ‡ç‰‡çš„èµ‹å€¼æ‹·è´" class="headerlink" title="åˆ‡ç‰‡çš„èµ‹å€¼æ‹·è´"></a>åˆ‡ç‰‡çš„èµ‹å€¼æ‹·è´</h2><p>ä¸‹é¢çš„ä»£ç ä¸­æ¼”ç¤ºäº†æ‹·è´å‰åä¸¤ä¸ªå˜é‡å…±äº«åº•å±‚æ•°ç»„ï¼Œå¯¹ä¸€ä¸ªåˆ‡ç‰‡çš„ä¿®æ”¹ä¼šå½±å“å¦ä¸€ä¸ªåˆ‡ç‰‡çš„å†…å®¹ï¼Œè¿™ç‚¹éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	s1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//[0 0 0]</span>
	s2 <span class="token operator">:=</span> s1             <span class="token comment">//å°†s1ç›´æ¥èµ‹å€¼ç»™s2ï¼Œs1å’Œs2å…±ç”¨ä¸€ä¸ªåº•å±‚æ•°ç»„</span>
	s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">//[100 0 0]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">//[100 0 0]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="åˆ‡ç‰‡éå†"><a href="#åˆ‡ç‰‡éå†" class="headerlink" title="åˆ‡ç‰‡éå†"></a>åˆ‡ç‰‡éå†</h2><p>åˆ‡ç‰‡çš„éå†æ–¹å¼å’Œæ•°ç»„æ˜¯ä¸€è‡´çš„ï¼Œæ”¯æŒç´¢å¼•éå†å’Œ<code>for range</code>éå†ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">&#125;</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">for</span> index<span class="token punctuation">,</span> value <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="append-æ–¹æ³•ä¸ºåˆ‡ç‰‡æ·»åŠ å…ƒç´ "><a href="#append-æ–¹æ³•ä¸ºåˆ‡ç‰‡æ·»åŠ å…ƒç´ " class="headerlink" title="append()æ–¹æ³•ä¸ºåˆ‡ç‰‡æ·»åŠ å…ƒç´ "></a>append()æ–¹æ³•ä¸ºåˆ‡ç‰‡æ·»åŠ å…ƒç´ </h2><p>Goè¯­è¨€çš„å†…å»ºå‡½æ•°<code>append()</code>å¯ä»¥ä¸ºåˆ‡ç‰‡åŠ¨æ€æ·»åŠ å…ƒç´ ã€‚ å¯ä»¥ä¸€æ¬¡æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªå…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ·»åŠ å¦ä¸€ä¸ªåˆ‡ç‰‡ä¸­çš„å…ƒç´ ï¼ˆåé¢åŠ â€¦ï¼‰ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
	s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment">// [1]</span>
	s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment">// [1 2 3 4]</span>
	s2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">&#125;</span>  
	s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> s2<span class="token operator">...</span><span class="token punctuation">)</span>    <span class="token comment">// [1 2 3 4 5 6 7]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>æ³¨æ„ï¼š</strong>é€šè¿‡varå£°æ˜çš„é›¶å€¼åˆ‡ç‰‡å¯ä»¥åœ¨<code>append()</code>å‡½æ•°ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€åˆå§‹åŒ–ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>æ²¡æœ‰å¿…è¦åƒä¸‹é¢çš„ä»£ç ä¸€æ ·åˆå§‹åŒ–ä¸€ä¸ªåˆ‡ç‰‡å†ä¼ å…¥<code>append()</code>å‡½æ•°ä½¿ç”¨ï¼Œ</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  <span class="token comment">// æ²¡æœ‰å¿…è¦åˆå§‹åŒ–</span>
s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>  <span class="token comment">// æ²¡æœ‰å¿…è¦åˆå§‹åŒ–</span>
s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ¯ä¸ªåˆ‡ç‰‡ä¼šæŒ‡å‘ä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„å®¹é‡å¤Ÿç”¨å°±æ·»åŠ æ–°å¢å…ƒç´ ã€‚å½“åº•å±‚æ•°ç»„ä¸èƒ½å®¹çº³æ–°å¢çš„å…ƒç´ æ—¶ï¼Œåˆ‡ç‰‡å°±ä¼šè‡ªåŠ¨æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥è¿›è¡Œâ€œæ‰©å®¹â€ï¼Œæ­¤æ—¶è¯¥åˆ‡ç‰‡æŒ‡å‘çš„åº•å±‚æ•°ç»„å°±ä¼šæ›´æ¢ã€‚</p>
<p>â€œæ‰©å®¹â€æ“ä½œå¾€å¾€å‘ç”Ÿåœ¨<code>append()</code>å‡½æ•°è°ƒç”¨æ—¶ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸éƒ½éœ€è¦ç”¨åŸå˜é‡æ¥æ”¶appendå‡½æ•°çš„è¿”å›å€¼ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">//append()æ·»åŠ å…ƒç´ å’Œåˆ‡ç‰‡æ‰©å®¹</span>
	<span class="token keyword">var</span> numSlice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		numSlice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>numSlice<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v  len:%d  cap:%d  ptr:%p\n"</span><span class="token punctuation">,</span> numSlice<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>numSlice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>numSlice<span class="token punctuation">)</span><span class="token punctuation">,</span> numSlice<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡ºï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  len:1  cap:1  ptr:0xc0000120d0
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span><span class="token punctuation">]</span>  len:2  cap:2  ptr:0xc0000120e0
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span><span class="token punctuation">]</span>  len:3  cap:4  ptr:0xc00000c240
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">]</span>  len:4  cap:4  ptr:0xc00000c240
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">]</span>  len:5  cap:8  ptr:0xc0000102c0
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span><span class="token punctuation">]</span>  len:6  cap:8  ptr:0xc0000102c0
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span><span class="token punctuation">]</span>  len:7  cap:8  ptr:0xc0000102c0
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span><span class="token punctuation">]</span>  len:8  cap:8  ptr:0xc0000102c0
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span><span class="token punctuation">]</span>  len:9  cap:16  ptr:0xc000120000
<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span><span class="token punctuation">]</span>  len:10  cap:16  ptr:0xc000120000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä»ä¸Šé¢çš„ç»“æœå¯ä»¥çœ‹å‡ºï¼š</p>
<ol>
<li><code>append()</code>å‡½æ•°å°†å…ƒç´ è¿½åŠ åˆ°åˆ‡ç‰‡çš„æœ€åå¹¶è¿”å›è¯¥åˆ‡ç‰‡ã€‚</li>
<li>åˆ‡ç‰‡numSliceçš„å®¹é‡æŒ‰ç…§1ï¼Œ2ï¼Œ4ï¼Œ8ï¼Œ16è¿™æ ·çš„è§„åˆ™è‡ªåŠ¨è¿›è¡Œæ‰©å®¹ï¼Œæ¯æ¬¡æ‰©å®¹åéƒ½æ˜¯æ‰©å®¹å‰çš„2å€ã€‚</li>
</ol>
<p>append()å‡½æ•°è¿˜æ”¯æŒä¸€æ¬¡æ€§è¿½åŠ å¤šä¸ªå…ƒç´ ã€‚ ä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> citySlice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
<span class="token comment">// è¿½åŠ ä¸€ä¸ªå…ƒç´ </span>
citySlice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>citySlice<span class="token punctuation">,</span> <span class="token string">"åŒ—äº¬"</span><span class="token punctuation">)</span>
<span class="token comment">// è¿½åŠ å¤šä¸ªå…ƒç´ </span>
citySlice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>citySlice<span class="token punctuation">,</span> <span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">,</span> <span class="token string">"å¹¿å·"</span><span class="token punctuation">,</span> <span class="token string">"æ·±åœ³"</span><span class="token punctuation">)</span>
<span class="token comment">// è¿½åŠ åˆ‡ç‰‡</span>
a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"æˆéƒ½"</span><span class="token punctuation">,</span> <span class="token string">"é‡åº†"</span><span class="token punctuation">&#125;</span>
citySlice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>citySlice<span class="token punctuation">,</span> a<span class="token operator">...</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>citySlice<span class="token punctuation">)</span> <span class="token comment">//[åŒ—äº¬ ä¸Šæµ· å¹¿å· æ·±åœ³ æˆéƒ½ é‡åº†]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="åˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥"><a href="#åˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥" class="headerlink" title="åˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥"></a>åˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥</h2><p>å¯ä»¥é€šè¿‡æŸ¥çœ‹<code>$GOROOT/src/runtime/slice.go</code>æºç ï¼Œå…¶ä¸­æ‰©å®¹ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">newcap <span class="token operator">:=</span> old<span class="token punctuation">.</span><span class="token builtin">cap</span>
doublecap <span class="token operator">:=</span> newcap <span class="token operator">+</span> newcap
<span class="token keyword">if</span> <span class="token builtin">cap</span> <span class="token operator">></span> doublecap <span class="token punctuation">&#123;</span>
	newcap <span class="token operator">=</span> <span class="token builtin">cap</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> old<span class="token punctuation">.</span><span class="token builtin">len</span> <span class="token operator">&lt;</span> <span class="token number">1024</span> <span class="token punctuation">&#123;</span>
		newcap <span class="token operator">=</span> doublecap
	<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">// Check 0 &lt; newcap to detect overflow</span>
		<span class="token comment">// and prevent an infinite loop.</span>
		<span class="token keyword">for</span> <span class="token number">0</span> <span class="token operator">&lt;</span> newcap <span class="token operator">&amp;&amp;</span> newcap <span class="token operator">&lt;</span> <span class="token builtin">cap</span> <span class="token punctuation">&#123;</span>
			newcap <span class="token operator">+=</span> newcap <span class="token operator">/</span> <span class="token number">4</span>
		<span class="token punctuation">&#125;</span>
		<span class="token comment">// Set newcap to the requested cap when</span>
		<span class="token comment">// the newcap calculation overflowed.</span>
		<span class="token keyword">if</span> newcap <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>
			newcap <span class="token operator">=</span> <span class="token builtin">cap</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>é¦–å…ˆåˆ¤æ–­ï¼Œå¦‚æœæ–°ç”³è¯·å®¹é‡ï¼ˆcapï¼‰å¤§äº2å€çš„æ—§å®¹é‡ï¼ˆold.capï¼‰ï¼Œæœ€ç»ˆå®¹é‡ï¼ˆnewcapï¼‰å°±æ˜¯æ–°ç”³è¯·çš„å®¹é‡ï¼ˆcapï¼‰ã€‚</li>
<li>å¦åˆ™åˆ¤æ–­ï¼Œå¦‚æœæ—§åˆ‡ç‰‡çš„é•¿åº¦å°äº1024ï¼Œåˆ™æœ€ç»ˆå®¹é‡(newcap)å°±æ˜¯æ—§å®¹é‡(old.cap)çš„ä¸¤å€ï¼Œå³ï¼ˆnewcap=doublecapï¼‰ï¼Œ</li>
<li>å¦åˆ™åˆ¤æ–­ï¼Œå¦‚æœæ—§åˆ‡ç‰‡é•¿åº¦å¤§äºç­‰äº1024ï¼Œåˆ™æœ€ç»ˆå®¹é‡ï¼ˆnewcapï¼‰ä»æ—§å®¹é‡ï¼ˆold.capï¼‰å¼€å§‹å¾ªç¯å¢åŠ åŸæ¥çš„1/4ï¼Œå³ï¼ˆnewcap=old.cap,for {newcap += newcap/4}ï¼‰ç›´åˆ°æœ€ç»ˆå®¹é‡ï¼ˆnewcapï¼‰å¤§äºç­‰äºæ–°ç”³è¯·çš„å®¹é‡(cap)ï¼Œå³ï¼ˆnewcap &gt;= capï¼‰</li>
<li>å¦‚æœæœ€ç»ˆå®¹é‡ï¼ˆcapï¼‰è®¡ç®—å€¼æº¢å‡ºï¼Œåˆ™æœ€ç»ˆå®¹é‡ï¼ˆcapï¼‰å°±æ˜¯æ–°ç”³è¯·å®¹é‡ï¼ˆcapï¼‰ã€‚</li>
</ul>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ‡ç‰‡æ‰©å®¹è¿˜ä¼šæ ¹æ®åˆ‡ç‰‡ä¸­å…ƒç´ çš„ç±»å‹ä¸åŒè€Œåšä¸åŒçš„å¤„ç†ï¼Œæ¯”å¦‚<code>int</code>å’Œ<code>string</code>ç±»å‹çš„å¤„ç†æ–¹å¼å°±ä¸ä¸€æ ·ã€‚</p>
<h2 id="ä½¿ç”¨copy-å‡½æ•°å¤åˆ¶åˆ‡ç‰‡"><a href="#ä½¿ç”¨copy-å‡½æ•°å¤åˆ¶åˆ‡ç‰‡" class="headerlink" title="ä½¿ç”¨copy()å‡½æ•°å¤åˆ¶åˆ‡ç‰‡"></a>ä½¿ç”¨copy()å‡½æ•°å¤åˆ¶åˆ‡ç‰‡</h2><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªé—®é¢˜ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">&#125;</span>
	b <span class="token operator">:=</span> a
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>
	b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[1000 2 3 4 5]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">//[1000 2 3 4 5]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç”±äºåˆ‡ç‰‡æ˜¯<strong>å¼•ç”¨ç±»å‹</strong>ï¼Œæ‰€ä»¥aå’Œbå…¶å®éƒ½æŒ‡å‘äº†åŒä¸€å—å†…å­˜åœ°å€ã€‚ä¿®æ”¹bçš„åŒæ—¶açš„å€¼ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>
<p>Goè¯­è¨€å†…å»ºçš„<code>copy()</code>å‡½æ•°å¯ä»¥è¿…é€Ÿåœ°å°†ä¸€ä¸ªåˆ‡ç‰‡çš„æ•°æ®å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªåˆ‡ç‰‡ç©ºé—´ä¸­ï¼Œ<code>copy()</code>å‡½æ•°çš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">copy<span class="token punctuation">(</span>destSlice, srcSlice <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li>srcSlice: æ•°æ®æ¥æºåˆ‡ç‰‡</li>
<li>destSlice: ç›®æ ‡åˆ‡ç‰‡</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">// copy()å¤åˆ¶åˆ‡ç‰‡</span>
	a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">&#125;</span>
	c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
	<span class="token function">copy</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> a<span class="token punctuation">)</span>     <span class="token comment">//ä½¿ç”¨copy()å‡½æ•°å°†åˆ‡ç‰‡aä¸­çš„å…ƒç´ å¤åˆ¶åˆ°åˆ‡ç‰‡c</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>
	c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">//[1000 2 3 4 5]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ "><a href="#ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ " class="headerlink" title="ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ "></a>ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ </h2><p>Goè¯­è¨€ä¸­å¹¶æ²¡æœ‰åˆ é™¤åˆ‡ç‰‡å…ƒç´ çš„ä¸“ç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡æœ¬èº«çš„ç‰¹æ€§æ¥åˆ é™¤å…ƒç´ ã€‚ ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">// ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ </span>
	a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">&#125;</span>
	<span class="token comment">// è¦åˆ é™¤ç´¢å¼•ä¸º2çš„å…ƒç´ </span>
	a <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token operator">...</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[30 31 33 34 35 36 37]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼šè¦ä»åˆ‡ç‰‡aä¸­åˆ é™¤ç´¢å¼•ä¸º<code>index</code>çš„å…ƒç´ ï¼Œæ“ä½œæ–¹æ³•æ˜¯<code>a = append(a[:index], a[index+1:]...)</code></p>
<h1 id="map"><a href="#map" class="headerlink" title="map"></a>map</h1><p>mapæ˜¯ä¸€ç§æ— åºçš„åŸºäº<code>key-value</code>çš„æ•°æ®ç»“æ„ï¼ŒGoè¯­è¨€ä¸­çš„mapæ˜¯å¼•ç”¨ç±»å‹ï¼Œå¿…é¡»åˆå§‹åŒ–æ‰èƒ½ä½¿ç”¨ã€‚</p>
<h2 id="mapå®šä¹‰"><a href="#mapå®šä¹‰" class="headerlink" title="mapå®šä¹‰"></a>mapå®šä¹‰</h2><p>Goè¯­è¨€ä¸­ <code>map</code>çš„å®šä¹‰è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">map</span><span class="token punctuation">[</span>KeyType<span class="token punctuation">]</span>ValueType<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å…¶ä¸­ï¼Œ</p>
<ul>
<li>KeyType:è¡¨ç¤ºé”®çš„ç±»å‹ã€‚</li>
<li>ValueType:è¡¨ç¤ºé”®å¯¹åº”çš„å€¼çš„ç±»å‹ã€‚</li>
</ul>
<p>mapç±»å‹çš„å˜é‡é»˜è®¤åˆå§‹å€¼ä¸ºnilï¼Œéœ€è¦ä½¿ç”¨make()å‡½æ•°æ¥åˆ†é…å†…å­˜ã€‚è¯­æ³•ä¸ºï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span>KeyType<span class="token punctuation">]</span>ValueType<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token builtin">cap</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å…¶ä¸­capè¡¨ç¤ºmapçš„å®¹é‡ï¼Œè¯¥å‚æ•°è™½ç„¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯æˆ‘ä»¬åº”è¯¥åœ¨åˆå§‹åŒ–mapçš„æ—¶å€™å°±ä¸ºå…¶æŒ‡å®šä¸€ä¸ªåˆé€‚çš„å®¹é‡ã€‚</p>
<h2 id="mapåŸºæœ¬ä½¿ç”¨"><a href="#mapåŸºæœ¬ä½¿ç”¨" class="headerlink" title="mapåŸºæœ¬ä½¿ç”¨"></a>mapåŸºæœ¬ä½¿ç”¨</h2><p>mapä¸­çš„æ•°æ®éƒ½æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œmapçš„åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	scoreMap <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">90</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å°æ˜"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>scoreMap<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>scoreMap<span class="token punctuation">[</span><span class="token string">"å°æ˜"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type of a:%T\n"</span><span class="token punctuation">,</span> scoreMap<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡ºï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">map<span class="token punctuation">[</span>å°æ˜:100 å¼ ä¸‰:90<span class="token punctuation">]</span>
<span class="token number">100</span>
<span class="token builtin class-name">type</span> of a:map<span class="token punctuation">[</span>string<span class="token punctuation">]</span>int<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>mapä¹Ÿæ”¯æŒåœ¨å£°æ˜çš„æ—¶å€™å¡«å……å…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	userInfo <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span>
		<span class="token string">"username"</span><span class="token punctuation">:</span> <span class="token string">"æ²™æ²³å°ç‹å­"</span><span class="token punctuation">,</span>
		<span class="token string">"password"</span><span class="token punctuation">:</span> <span class="token string">"123456"</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span> <span class="token comment">//</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="åˆ¤æ–­æŸä¸ªé”®æ˜¯å¦å­˜åœ¨"><a href="#åˆ¤æ–­æŸä¸ªé”®æ˜¯å¦å­˜åœ¨" class="headerlink" title="åˆ¤æ–­æŸä¸ªé”®æ˜¯å¦å­˜åœ¨"></a>åˆ¤æ–­æŸä¸ªé”®æ˜¯å¦å­˜åœ¨</h2><p>Goè¯­è¨€ä¸­æœ‰ä¸ªåˆ¤æ–­mapä¸­é”®æ˜¯å¦å­˜åœ¨çš„ç‰¹æ®Šå†™æ³•ï¼Œæ ¼å¼å¦‚ä¸‹:</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">value<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	scoreMap <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">90</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å°æ˜"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
	<span class="token comment">// å¦‚æœkeyå­˜åœ¨okä¸ºtrue,vä¸ºå¯¹åº”çš„å€¼ï¼›ä¸å­˜åœ¨okä¸ºfalse,vä¸ºå€¼ç±»å‹çš„é›¶å€¼</span>
	v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> scoreMap<span class="token punctuation">[</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">]</span>
	<span class="token keyword">if</span> ok <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æŸ¥æ— æ­¤äºº"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="mapçš„éå†"><a href="#mapçš„éå†" class="headerlink" title="mapçš„éå†"></a>mapçš„éå†</h2><p>Goè¯­è¨€ä¸­ä½¿ç”¨<code>for range</code>éå†mapã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	scoreMap <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">90</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å°æ˜"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å¨œæ‰"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">60</span>
	<span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> scoreMap <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½†æˆ‘ä»¬åªæƒ³éå†keyçš„æ—¶å€™ï¼Œå¯ä»¥æŒ‰ä¸‹é¢çš„å†™æ³•ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	scoreMap <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">90</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å°æ˜"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å¨œæ‰"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">60</span>
	<span class="token keyword">for</span> k <span class="token operator">:=</span> <span class="token keyword">range</span> scoreMap <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>æ³¨æ„ï¼š</strong></p>
<p>éå†mapæ—¶çš„å…ƒç´ é¡ºåºä¸æ·»åŠ é”®å€¼å¯¹çš„é¡ºåºæ— å…³ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//è¾“å‡º</span>
å¨œæ‰ 
å¼ ä¸‰
å°æ˜<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="ä½¿ç”¨delete-å‡½æ•°åˆ é™¤é”®å€¼å¯¹"><a href="#ä½¿ç”¨delete-å‡½æ•°åˆ é™¤é”®å€¼å¯¹" class="headerlink" title="ä½¿ç”¨delete()å‡½æ•°åˆ é™¤é”®å€¼å¯¹"></a>ä½¿ç”¨delete()å‡½æ•°åˆ é™¤é”®å€¼å¯¹</h2><p>ä½¿ç”¨<code>delete()</code>å†…å»ºå‡½æ•°ä»mapä¸­åˆ é™¤ä¸€ç»„é”®å€¼å¯¹ï¼Œ<code>delete()</code>å‡½æ•°çš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token function">delete</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å…¶ä¸­ï¼Œ</p>
<ul>
<li>map:è¡¨ç¤ºè¦åˆ é™¤é”®å€¼å¯¹çš„map</li>
<li>key:è¡¨ç¤ºè¦åˆ é™¤çš„é”®å€¼å¯¹çš„é”®</li>
</ul>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	scoreMap <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">90</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å°æ˜"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
	scoreMap<span class="token punctuation">[</span><span class="token string">"å¨œæ‰"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">60</span>
	<span class="token function">delete</span><span class="token punctuation">(</span>scoreMap<span class="token punctuation">,</span> <span class="token string">"å°æ˜"</span><span class="token punctuation">)</span><span class="token comment">//å°†å°æ˜:100ä»mapä¸­åˆ é™¤</span>
	<span class="token keyword">for</span> k<span class="token punctuation">,</span>v <span class="token operator">:=</span> <span class="token keyword">range</span> scoreMap<span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="æŒ‰ç…§æŒ‡å®šé¡ºåºéå†map"><a href="#æŒ‰ç…§æŒ‡å®šé¡ºåºéå†map" class="headerlink" title="æŒ‰ç…§æŒ‡å®šé¡ºåºéå†map"></a>æŒ‰ç…§æŒ‡å®šé¡ºåºéå†map</h2><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	rand<span class="token punctuation">.</span><span class="token function">Seed</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">UnixNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//åˆå§‹åŒ–éšæœºæ•°ç§å­</span>

	<span class="token keyword">var</span> scoreMap <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		key <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"stu%02d"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token comment">//ç”Ÿæˆstuå¼€å¤´çš„å­—ç¬¦ä¸²</span>
		value <span class="token operator">:=</span> rand<span class="token punctuation">.</span><span class="token function">Intn</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>          <span class="token comment">//ç”Ÿæˆ0~99çš„éšæœºæ•´æ•°</span>
		scoreMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//å–å‡ºmapä¸­çš„æ‰€æœ‰keyå­˜å…¥åˆ‡ç‰‡keys</span>
	<span class="token keyword">var</span> keys <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> key <span class="token operator">:=</span> <span class="token keyword">range</span> scoreMap <span class="token punctuation">&#123;</span>
		keys <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>keys<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">//å¯¹åˆ‡ç‰‡è¿›è¡Œæ’åº</span>
	sort<span class="token punctuation">.</span><span class="token function">Strings</span><span class="token punctuation">(</span>keys<span class="token punctuation">)</span>
	<span class="token comment">//æŒ‰ç…§æ’åºåçš„keyéå†map</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> key <span class="token operator">:=</span> <span class="token keyword">range</span> keys <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> scoreMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="å…ƒç´ ä¸ºmapç±»å‹çš„åˆ‡ç‰‡"><a href="#å…ƒç´ ä¸ºmapç±»å‹çš„åˆ‡ç‰‡" class="headerlink" title="å…ƒç´ ä¸ºmapç±»å‹çš„åˆ‡ç‰‡"></a>å…ƒç´ ä¸ºmapç±»å‹çš„åˆ‡ç‰‡</h2><p>ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†åˆ‡ç‰‡ä¸­çš„å…ƒç´ ä¸ºmapç±»å‹æ—¶çš„æ“ä½œï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> mapSlice <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> index<span class="token punctuation">,</span> value <span class="token operator">:=</span> <span class="token keyword">range</span> mapSlice <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"index:%d value:%v\n"</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"after init"</span><span class="token punctuation">)</span>
	<span class="token comment">// å¯¹åˆ‡ç‰‡ä¸­çš„mapå…ƒç´ è¿›è¡Œåˆå§‹åŒ–</span>
	mapSlice<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	mapSlice<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"å°ç‹å­"</span>
	mapSlice<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"password"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"123456"</span>
	mapSlice<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"address"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"æ²™æ²³"</span>
	<span class="token keyword">for</span> index<span class="token punctuation">,</span> value <span class="token operator">:=</span> <span class="token keyword">range</span> mapSlice <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"index:%d value:%v\n"</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="å€¼ä¸ºåˆ‡ç‰‡ç±»å‹çš„map"><a href="#å€¼ä¸ºåˆ‡ç‰‡ç±»å‹çš„map" class="headerlink" title="å€¼ä¸ºåˆ‡ç‰‡ç±»å‹çš„map"></a>å€¼ä¸ºåˆ‡ç‰‡ç±»å‹çš„map</h2><p>ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†mapä¸­å€¼ä¸ºåˆ‡ç‰‡ç±»å‹çš„æ“ä½œï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> sliceMap <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sliceMap<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"after init"</span><span class="token punctuation">)</span>
	key <span class="token operator">:=</span> <span class="token string">"ä¸­å›½"</span>
	value<span class="token punctuation">,</span> ok <span class="token operator">:=</span> sliceMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">&#123;</span>
		value <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	value <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token string">"åŒ—äº¬"</span><span class="token punctuation">,</span> <span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">)</span>
	sliceMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sliceMap<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h2><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//1.å†™ä¸€ä¸ªç¨‹åºï¼Œç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•°ã€‚æ¯”å¦‚ï¼šâ€how do you doâ€ä¸­how=1 do=2 you=1</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   words <span class="token operator">:=</span> <span class="token string">"how do you do"</span>
   splits <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span>words<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span>
   result <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
   <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> splits <span class="token punctuation">&#123;</span>
      result<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> result<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
   <span class="token punctuation">&#125;</span>
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//è¾“å‡ºï¼šmap[do:2 how:1 you:1]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><p>Goè¯­è¨€ä¸­æ”¯æŒå‡½æ•°ã€åŒ¿åå‡½æ•°å’Œé—­åŒ…ï¼Œå¹¶ä¸”å‡½æ•°åœ¨Goè¯­è¨€ä¸­å±äºâ€œä¸€ç­‰å…¬æ°‘â€ã€‚</p>
<h2 id="å‡½æ•°å®šä¹‰"><a href="#å‡½æ•°å®šä¹‰" class="headerlink" title="å‡½æ•°å®šä¹‰"></a>å‡½æ•°å®šä¹‰</h2><p>Goè¯­è¨€ä¸­å®šä¹‰å‡½æ•°ä½¿ç”¨<code>func</code>å…³é”®å­—ï¼Œå…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> å‡½æ•°å<span class="token punctuation">(</span>å‚æ•°<span class="token punctuation">)</span><span class="token punctuation">(</span>è¿”å›å€¼<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    å‡½æ•°ä½“
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>å…¶ä¸­ï¼š</p>
<ul>
<li>å‡½æ•°åï¼šç”±å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ç»„æˆã€‚ä½†å‡½æ•°åçš„ç¬¬ä¸€ä¸ªå­—æ¯ä¸èƒ½æ˜¯æ•°å­—ã€‚åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œå‡½æ•°åä¹Ÿç§°ä¸èƒ½é‡åã€‚</li>
<li>å‚æ•°ï¼šå‚æ•°ç”±<strong>å‚æ•°å˜é‡</strong>å’Œå‚æ•°å˜é‡çš„<strong>ç±»å‹</strong>ç»„æˆï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ä½¿ç”¨<code>,</code>åˆ†éš”ã€‚</li>
<li>è¿”å›å€¼ï¼šè¿”å›å€¼ç”±è¿”å›å€¼å˜é‡å’Œå…¶å˜é‡ç±»å‹ç»„æˆï¼Œä¹Ÿå¯ä»¥åªå†™è¿”å›å€¼çš„ç±»å‹ï¼Œå¤šä¸ªè¿”å›å€¼å¿…é¡»ç”¨<code>()</code>åŒ…è£¹ï¼Œå¹¶ç”¨<code>,</code>åˆ†éš”ã€‚</li>
<li>å‡½æ•°ä½“ï¼šå®ç°æŒ‡å®šåŠŸèƒ½çš„ä»£ç å—ã€‚</li>
</ul>
<p>æˆ‘ä»¬å…ˆæ¥å®šä¹‰ä¸€ä¸ªæ±‚ä¸¤ä¸ªæ•°ä¹‹å’Œçš„å‡½æ•°ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">intSum</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼éƒ½æ˜¯å¯é€‰çš„ï¼Œä¾‹å¦‚æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªæ—¢ä¸éœ€è¦å‚æ•°ä¹Ÿæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello æ²™æ²³"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="å‡½æ•°çš„è°ƒç”¨"><a href="#å‡½æ•°çš„è°ƒç”¨" class="headerlink" title="å‡½æ•°çš„è°ƒç”¨"></a>å‡½æ•°çš„è°ƒç”¨</h2><p>å®šä¹‰äº†å‡½æ•°ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>å‡½æ•°å()</code>çš„æ–¹å¼è°ƒç”¨å‡½æ•°ã€‚ ä¾‹å¦‚æˆ‘ä»¬è°ƒç”¨ä¸Šé¢å®šä¹‰çš„ä¸¤ä¸ªå‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	ret <span class="token operator">:=</span> <span class="token function">intSum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ³¨æ„ï¼Œè°ƒç”¨æœ‰è¿”å›å€¼çš„å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¸æ¥æ”¶å…¶è¿”å›å€¼ã€‚</p>
<h2 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h2><h3 id="ç±»å‹ç®€å†™"><a href="#ç±»å‹ç®€å†™" class="headerlink" title="ç±»å‹ç®€å†™"></a>ç±»å‹ç®€å†™</h3><p>å‡½æ•°çš„å‚æ•°ä¸­å¦‚æœç›¸é‚»å˜é‡çš„ç±»å‹ç›¸åŒï¼Œåˆ™å¯ä»¥çœç•¥ç±»å‹ï¼Œä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">intSum</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>intSum</code> å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œè¿™ä¸¤ä¸ªå‚æ•°çš„ç±»å‹å‡ä¸º<code>int</code>ï¼Œå› æ­¤å¯ä»¥çœç•¥<code>x</code>çš„ç±»å‹ï¼Œå› ä¸º<code>y</code>åé¢æœ‰ç±»å‹è¯´æ˜ï¼Œ<code>x</code>å‚æ•°ä¹Ÿæ˜¯è¯¥ç±»å‹ã€‚</p>
<h3 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a>å¯å˜å‚æ•°</h3><p>å¯å˜å‚æ•°æ˜¯æŒ‡å‡½æ•°çš„å‚æ•°æ•°é‡ä¸å›ºå®šã€‚Goè¯­è¨€ä¸­çš„å¯å˜å‚æ•°é€šè¿‡åœ¨å‚æ•°åååŠ <code>...</code>æ¥æ ‡è¯†ã€‚</p>
<p>æ³¨æ„ï¼šå¯å˜å‚æ•°é€šå¸¸è¦ä½œä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">intSum2</span><span class="token punctuation">(</span>x <span class="token operator">...</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">//xæ˜¯ä¸€ä¸ªåˆ‡ç‰‡</span>
	sum <span class="token operator">:=</span> <span class="token number">0</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> x <span class="token punctuation">&#123;</span>
		sum <span class="token operator">=</span> sum <span class="token operator">+</span> v
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> sum
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è°ƒç”¨ä¸Šé¢çš„å‡½æ•°ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">ret1 <span class="token operator">:=</span> <span class="token function">intSum2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ret2 <span class="token operator">:=</span> <span class="token function">intSum2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
ret3 <span class="token operator">:=</span> <span class="token function">intSum2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
ret4 <span class="token operator">:=</span> <span class="token function">intSum2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ret1<span class="token punctuation">,</span> ret2<span class="token punctuation">,</span> ret3<span class="token punctuation">,</span> ret4<span class="token punctuation">)</span> <span class="token comment">//0 10 30 60</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å›ºå®šå‚æ•°æ­é…å¯å˜å‚æ•°ä½¿ç”¨æ—¶ï¼Œå¯å˜å‚æ•°è¦æ”¾åœ¨å›ºå®šå‚æ•°çš„åé¢ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">intSum3</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">,</span> y <span class="token operator">...</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
	sum <span class="token operator">:=</span> x
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> y <span class="token punctuation">&#123;</span>
		sum <span class="token operator">=</span> sum <span class="token operator">+</span> v
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> sum
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è°ƒç”¨ä¸Šè¿°å‡½æ•°ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">ret5 <span class="token operator">:=</span> <span class="token function">intSum3</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
ret6 <span class="token operator">:=</span> <span class="token function">intSum3</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
ret7 <span class="token operator">:=</span> <span class="token function">intSum3</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
ret8 <span class="token operator">:=</span> <span class="token function">intSum3</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ret5<span class="token punctuation">,</span> ret6<span class="token punctuation">,</span> ret7<span class="token punctuation">,</span> ret8<span class="token punctuation">)</span> <span class="token comment">//100 110 130 160</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æœ¬è´¨ä¸Šï¼Œå‡½æ•°çš„å¯å˜å‚æ•°æ˜¯é€šè¿‡åˆ‡ç‰‡æ¥å®ç°çš„ã€‚</p>
<h2 id="ğŸ‘è¿”å›å€¼"><a href="#ğŸ‘è¿”å›å€¼" class="headerlink" title="ğŸ‘è¿”å›å€¼"></a>ğŸ‘è¿”å›å€¼</h2><p>Goè¯­è¨€ä¸­é€šè¿‡<code>return</code>å…³é”®å­—å‘å¤–è¾“å‡ºè¿”å›å€¼ã€‚</p>
<h3 id="å¤šè¿”å›å€¼"><a href="#å¤šè¿”å›å€¼" class="headerlink" title="å¤šè¿”å›å€¼"></a>å¤šè¿”å›å€¼</h3><div class="success">

<blockquote>
<p>Goè¯­è¨€ä¸­å‡½æ•°æ”¯æŒå¤šè¿”å›å€¼ï¼Œå‡½æ•°å¦‚æœæœ‰å¤šä¸ªè¿”å›å€¼æ—¶å¿…é¡»ç”¨<code>()</code>å°†æ‰€æœ‰è¿”å›å€¼åŒ…è£¹èµ·æ¥ã€‚</p>
</blockquote>
</div>

<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">calc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	sum <span class="token operator">:=</span> x <span class="token operator">+</span> y
	sub <span class="token operator">:=</span> x <span class="token operator">-</span> y
	<span class="token keyword">return</span> sum<span class="token punctuation">,</span> sub
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="è¿”å›å€¼å‘½å"><a href="#è¿”å›å€¼å‘½å" class="headerlink" title="è¿”å›å€¼å‘½å"></a>è¿”å›å€¼å‘½å</h3><p>å‡½æ•°å®šä¹‰æ—¶å¯ä»¥ç»™è¿”å›å€¼å‘½åï¼Œå¹¶åœ¨å‡½æ•°ä½“ä¸­ç›´æ¥ä½¿ç”¨è¿™äº›å˜é‡ï¼Œæœ€åé€šè¿‡<code>return</code>å…³é”®å­—è¿”å›ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">calc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>sum<span class="token punctuation">,</span> sub <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	sum <span class="token operator">=</span> x <span class="token operator">+</span> y
	sub <span class="token operator">=</span> x <span class="token operator">-</span> y
	<span class="token keyword">return</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="è¿”å›å€¼è¡¥å……"><a href="#è¿”å›å€¼è¡¥å……" class="headerlink" title="è¿”å›å€¼è¡¥å……"></a>è¿”å›å€¼è¡¥å……</h3><p>å½“æˆ‘ä»¬çš„ä¸€ä¸ªå‡½æ•°è¿”å›å€¼ç±»å‹ä¸ºsliceæ—¶ï¼Œnilå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„sliceï¼Œæ²¡å¿…è¦æ˜¾ç¤ºè¿”å›ä¸€ä¸ªé•¿åº¦ä¸º0çš„åˆ‡ç‰‡ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">someFunc</span><span class="token punctuation">(</span>x <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token string">""</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span> <span class="token comment">// æ²¡å¿…è¦è¿”å›[]int&#123;&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="å‡½æ•°è¿›é˜¶"><a href="#å‡½æ•°è¿›é˜¶" class="headerlink" title="å‡½æ•°è¿›é˜¶"></a>å‡½æ•°è¿›é˜¶</h1><h2 id="å‡½æ•°ç±»å‹ä¸å˜é‡"><a href="#å‡½æ•°ç±»å‹ä¸å˜é‡" class="headerlink" title="å‡½æ•°ç±»å‹ä¸å˜é‡"></a>å‡½æ•°ç±»å‹ä¸å˜é‡</h2><h3 id="å®šä¹‰å‡½æ•°ç±»å‹"><a href="#å®šä¹‰å‡½æ•°ç±»å‹" class="headerlink" title="å®šä¹‰å‡½æ•°ç±»å‹"></a>å®šä¹‰å‡½æ•°ç±»å‹</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>type</code>å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œå…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> calculation <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>ä¸Šé¢è¯­å¥å®šä¹‰äº†ä¸€ä¸ª<code>calculation</code>ç±»å‹ï¼Œå®ƒæ˜¯ä¸€ç§å‡½æ•°ç±»å‹ï¼Œè¿™ç§å‡½æ•°æ¥æ”¶ä¸¤ä¸ªintç±»å‹çš„å‚æ•°å¹¶ä¸”è¿”å›ä¸€ä¸ªintç±»å‹çš„è¿”å›å€¼ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå‡¡æ˜¯æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„å‡½æ•°éƒ½æ˜¯calculationç±»å‹çš„å‡½æ•°ï¼Œä¾‹å¦‚ä¸‹é¢çš„addå’Œsubæ˜¯calculationç±»å‹ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">sub</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> x <span class="token operator">-</span> y
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>addå’Œsubéƒ½èƒ½èµ‹å€¼ç»™calculationç±»å‹çš„å˜é‡ã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> c calculation
c <span class="token operator">=</span> add<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="å‡½æ•°ç±»å‹å˜é‡"><a href="#å‡½æ•°ç±»å‹å˜é‡" class="headerlink" title="å‡½æ•°ç±»å‹å˜é‡"></a>å‡½æ•°ç±»å‹å˜é‡</h3><p>æˆ‘ä»¬å¯ä»¥å£°æ˜å‡½æ•°ç±»å‹çš„å˜é‡å¹¶ä¸”ä¸ºè¯¥å˜é‡èµ‹å€¼ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> c calculation               <span class="token comment">// å£°æ˜ä¸€ä¸ªcalculationç±»å‹çš„å˜é‡c</span>
	c <span class="token operator">=</span> add                         <span class="token comment">// æŠŠaddèµ‹å€¼ç»™c</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type of c:%T\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token comment">// type of c:main.calculation</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">c</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment">// åƒè°ƒç”¨addä¸€æ ·è°ƒç”¨c</span>

	f <span class="token operator">:=</span> add                        <span class="token comment">// å°†å‡½æ•°addèµ‹å€¼ç»™å˜é‡f1</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type of f:%T\n"</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span> <span class="token comment">// type of f:func(int, int) int</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>          <span class="token comment">// åƒè°ƒç”¨addä¸€æ ·è°ƒç”¨f</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h2><p>é«˜é˜¶å‡½æ•°åˆ†ä¸ºå‡½æ•°ä½œä¸ºå‚æ•°å’Œå‡½æ•°ä½œä¸ºè¿”å›å€¼ä¸¤éƒ¨åˆ†ã€‚</p>
<h3 id="å‡½æ•°ä½œä¸ºå‚æ•°"><a href="#å‡½æ•°ä½œä¸ºå‚æ•°" class="headerlink" title="å‡½æ•°ä½œä¸ºå‚æ•°"></a>å‡½æ•°ä½œä¸ºå‚æ•°</h3><p>å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">calc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">,</span> op <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> <span class="token function">op</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token function">op</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	ret2 <span class="token operator">:=</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> add<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ret2<span class="token punctuation">)</span> <span class="token comment">//40</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="å‡½æ•°ä½œä¸ºè¿”å›å€¼"><a href="#å‡½æ•°ä½œä¸ºè¿”å›å€¼" class="headerlink" title="å‡½æ•°ä½œä¸ºè¿”å›å€¼"></a>å‡½æ•°ä½œä¸ºè¿”å›å€¼</h3><p>å‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºè¿”å›å€¼ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">sub</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> x <span class="token operator">-</span> y
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">do</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">switch</span> s <span class="token punctuation">&#123;</span>
	<span class="token keyword">case</span> <span class="token string">"+"</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> add<span class="token punctuation">,</span> <span class="token boolean">nil</span>
	<span class="token keyword">case</span> <span class="token string">"-"</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> sub<span class="token punctuation">,</span> <span class="token boolean">nil</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
		err <span class="token operator">:=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"æ— æ³•è¯†åˆ«çš„æ“ä½œç¬¦"</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	c<span class="token punctuation">,</span>d <span class="token operator">:=</span> <span class="token function">do</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span>			<span class="token comment">//æ­¤æ—¶cå°±æ˜¯subå‡½æ•°</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">c</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>ï¼Œd<span class="token punctuation">)</span>  <span class="token comment">//c(b,a)å°±æ˜¯sub(b,a)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//è¾“å‡ºï¼š1 &lt;nil></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="åŒ¿åå‡½æ•°å’Œé—­åŒ…"><a href="#åŒ¿åå‡½æ•°å’Œé—­åŒ…" class="headerlink" title="åŒ¿åå‡½æ•°å’Œé—­åŒ…"></a>åŒ¿åå‡½æ•°å’Œé—­åŒ…</h2><h3 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h3><p>å‡½æ•°å½“ç„¶è¿˜å¯ä»¥ä½œä¸ºè¿”å›å€¼ï¼Œä½†æ˜¯åœ¨Goè¯­è¨€ä¸­å‡½æ•°å†…éƒ¨ä¸èƒ½å†åƒä¹‹å‰é‚£æ ·å®šä¹‰å‡½æ•°äº†ï¼Œåªèƒ½å®šä¹‰åŒ¿åå‡½æ•°ã€‚</p>
<p>åŒ¿åå‡½æ•°å°±æ˜¯æ²¡æœ‰å‡½æ•°åçš„å‡½æ•°ï¼ŒåŒ¿åå‡½æ•°çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span><span class="token punctuation">(</span>å‚æ•°<span class="token punctuation">)</span><span class="token punctuation">(</span>è¿”å›å€¼<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    å‡½æ•°ä½“
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>åŒ¿åå‡½æ•°å› ä¸ºæ²¡æœ‰å‡½æ•°åï¼Œæ‰€ä»¥æ²¡åŠæ³•åƒæ™®é€šå‡½æ•°é‚£æ ·è°ƒç”¨ï¼Œæ‰€ä»¥åŒ¿åå‡½æ•°<strong>éœ€è¦ä¿å­˜</strong>åˆ°æŸä¸ªå˜é‡æˆ–è€…ä½œä¸º<strong>ç«‹å³æ‰§è¡Œå‡½æ•°</strong>:</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">// å°†åŒ¿åå‡½æ•°ä¿å­˜åˆ°å˜é‡</span>
	add <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment">// é€šè¿‡å˜é‡è°ƒç”¨åŒ¿åå‡½æ•°</span>

	<span class="token comment">//è‡ªæ‰§è¡Œå‡½æ•°ï¼šåŒ¿åå‡½æ•°å®šä¹‰å®ŒåŠ ()ç›´æ¥æ‰§è¡Œ</span>
	<span class="token keyword">func</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ğŸ‘åŒ¿åå‡½æ•°å¤šç”¨äºå®ç°å›è°ƒå‡½æ•°å’Œé—­åŒ…ã€‚</p>
<h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><p>é—­åŒ…æŒ‡çš„æ˜¯ä¸€ä¸ªå‡½æ•°å’Œä¸å…¶ç›¸å…³çš„å¼•ç”¨ç¯å¢ƒç»„åˆè€Œæˆçš„å®ä½“ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œ<code>é—­åŒ… = å‡½æ•° + å¼•ç”¨ç¯å¢ƒ</code>ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">adder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> x <span class="token builtin">int</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token string">"\n***** closing *****"</span><span class="token punctuation">)</span>
    
	<span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
		x <span class="token operator">+=</span> y
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"--------------"</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> x
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	f <span class="token operator">:=</span> <span class="token function">adder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"print->"</span><span class="token punctuation">,</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//10</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"print->"</span><span class="token punctuation">,</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//30</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"print->"</span><span class="token punctuation">,</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//60</span>
    
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"$$$$$ new game $$$$$"</span><span class="token punctuation">)</span>
	
    f1 <span class="token operator">:=</span> <span class="token function">adder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"print->"</span><span class="token punctuation">,</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//40</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"print->"</span><span class="token punctuation">,</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//90</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡ºï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">0</span> 
***** closing *****
<span class="token number">10</span>
--------------
print-<span class="token operator">></span> <span class="token number">10</span>
<span class="token number">20</span>
--------------
print-<span class="token operator">></span> <span class="token number">30</span>
<span class="token number">30</span>
--------------
print-<span class="token operator">></span> <span class="token number">60</span>
<span class="token variable">$$</span><span class="token variable">$$</span>$ new game <span class="token variable">$$</span><span class="token variable">$$</span>$
<span class="token number">0</span> 
***** closing *****
<span class="token number">40</span>
--------------
print-<span class="token operator">></span> <span class="token number">40</span>
<span class="token number">50</span>
--------------
print-<span class="token operator">></span> <span class="token number">90</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å˜é‡<code>f</code>æ˜¯ä¸€ä¸ªå‡½æ•°å¹¶ä¸”å®ƒå¼•ç”¨äº†å…¶å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„<code>x</code>å˜é‡ï¼Œæ­¤æ—¶<code>f</code>å°±æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚ åœ¨<code>f</code>çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå˜é‡<code>x</code>ä¹Ÿä¸€ç›´æœ‰æ•ˆã€‚ é—­åŒ…è¿›é˜¶ç¤ºä¾‹1ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">adder2</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
		x <span class="token operator">+=</span> y
		<span class="token keyword">return</span> x
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">adder2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//20</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//40</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//70</span>

	f1 <span class="token operator">:=</span> <span class="token function">adder2</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//60</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//110</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é—­åŒ…è¿›é˜¶ç¤ºä¾‹2ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">makeSuffixFunc</span><span class="token punctuation">(</span>suffix <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token operator">!</span>strings<span class="token punctuation">.</span><span class="token function">HasSuffix</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> suffix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> name <span class="token operator">+</span> suffix
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">return</span> name
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	jpgFunc <span class="token operator">:=</span> <span class="token function">makeSuffixFunc</span><span class="token punctuation">(</span><span class="token string">".jpg"</span><span class="token punctuation">)</span>
	txtFunc <span class="token operator">:=</span> <span class="token function">makeSuffixFunc</span><span class="token punctuation">(</span><span class="token string">".txt"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">jpgFunc</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//test.jpg</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">txtFunc</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//test.txt</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é—­åŒ…è¿›é˜¶ç¤ºä¾‹3ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">calc</span><span class="token punctuation">(</span>base <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	add <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
		base <span class="token operator">+=</span> i
		<span class="token keyword">return</span> base
	<span class="token punctuation">&#125;</span>

	sub <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
		base <span class="token operator">-=</span> i
		<span class="token keyword">return</span> base
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> add<span class="token punctuation">,</span> sub
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	f1<span class="token punctuation">,</span> f2 <span class="token operator">:=</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//11 9</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//12 8</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//13 7</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é—­åŒ…å…¶å®å¹¶ä¸å¤æ‚ï¼Œåªè¦ç‰¢è®°<code>é—­åŒ…=å‡½æ•°+å¼•ç”¨ç¯å¢ƒ</code>ã€‚</p>
<h2 id="deferå»¶è¿Ÿè¯­å¥"><a href="#deferå»¶è¿Ÿè¯­å¥" class="headerlink" title="deferå»¶è¿Ÿè¯­å¥"></a>deferå»¶è¿Ÿè¯­å¥</h2><p>Goè¯­è¨€ä¸­çš„<code>defer</code>è¯­å¥ä¼šå°†å…¶åé¢è·Ÿéšçš„è¯­å¥è¿›è¡Œå»¶è¿Ÿå¤„ç†ã€‚åœ¨<code>defer</code>å½’å±çš„å‡½æ•°å³å°†è¿”å›æ—¶ï¼Œå°†å»¶è¿Ÿå¤„ç†çš„è¯­å¥æŒ‰<code>defer</code>å®šä¹‰çš„é€†åºè¿›è¡Œæ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…ˆè¢«<code>defer</code>çš„è¯­å¥æœ€åè¢«æ‰§è¡Œï¼Œæœ€åè¢«<code>defer</code>çš„è¯­å¥ï¼Œæœ€å…ˆè¢«æ‰§è¡Œã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"start"</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"end"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡ºç»“æœï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go">start
end
<span class="token number">3</span>
<span class="token number">2</span>
<span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç”±äº<code>defer</code>è¯­å¥å»¶è¿Ÿè°ƒç”¨çš„ç‰¹æ€§ï¼Œæ‰€ä»¥<code>defer</code>è¯­å¥èƒ½<strong>éå¸¸æ–¹ä¾¿çš„å¤„ç†èµ„æºé‡Šæ”¾é—®é¢˜</strong>ã€‚æ¯”å¦‚ï¼šèµ„æºæ¸…ç†ã€æ–‡ä»¶å…³é—­ã€è§£é”åŠè®°å½•æ—¶é—´ç­‰ã€‚</p>
<h3 id="deferæ‰§è¡Œæ—¶æœº"><a href="#deferæ‰§è¡Œæ—¶æœº" class="headerlink" title="deferæ‰§è¡Œæ—¶æœº"></a>deferæ‰§è¡Œæ—¶æœº</h3><p>åœ¨Goè¯­è¨€çš„å‡½æ•°ä¸­<code>return</code>è¯­å¥åœ¨åº•å±‚åˆ†ä¸ºç»™è¿”å›å€¼èµ‹å€¼å’ŒRETæŒ‡ä»¤ä¸¤æ­¥ã€‚</p>
<p>è€Œ<code>defer</code>è¯­å¥æ‰§è¡Œçš„æ—¶æœºå°±åœ¨è¿”å›å€¼èµ‹å€¼æ“ä½œåï¼ŒRETæŒ‡ä»¤æ‰§è¡Œå‰ã€‚å…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<img src="https://www.liwenzhou.com/images/Go/func/defer.png" alt="deferæ‰§è¡Œæ—¶æœº"></p>
<h3 id="deferç»å…¸æ¡ˆä¾‹"><a href="#deferç»å…¸æ¡ˆä¾‹" class="headerlink" title="deferç»å…¸æ¡ˆä¾‹"></a>deferç»å…¸æ¡ˆä¾‹</h3><p>é˜…è¯»ä¸‹é¢çš„ä»£ç ï¼Œå†™å‡ºæœ€åçš„æ‰“å°ç»“æœã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	x <span class="token operator">:=</span> <span class="token number">12</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		x<span class="token operator">++</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> x
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		x<span class="token operator">++</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token number">5</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	x <span class="token operator">:=</span> <span class="token number">23</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		x<span class="token operator">++</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> x
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		x<span class="token operator">++</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token number">5</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//12 6 23 5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="deferé¢è¯•é¢˜"><a href="#deferé¢è¯•é¢˜" class="headerlink" title="deferé¢è¯•é¢˜"></a>deferé¢è¯•é¢˜</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">calc</span><span class="token punctuation">(</span>index <span class="token builtin">string</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	ret <span class="token operator">:=</span> a <span class="token operator">+</span> b
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> ret<span class="token punctuation">)</span>
	<span class="token keyword">return</span> ret
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	x <span class="token operator">:=</span> <span class="token number">1</span>
	y <span class="token operator">:=</span> <span class="token number">2</span>
	<span class="token keyword">defer</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token string">"AA"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
	x <span class="token operator">=</span> <span class="token number">10</span>
	<span class="token keyword">defer</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token string">"BB"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
	y <span class="token operator">=</span> <span class="token number">20</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// A 1 2 3</span>
<span class="token comment">// B 10 2 12</span>
<span class="token comment">// BB 10 12 22</span>
<span class="token comment">// AA 1 3 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é—®ï¼Œä¸Šé¢ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ï¼Ÿï¼ˆæç¤ºï¼šdeferæ³¨å†Œè¦å»¶è¿Ÿæ‰§è¡Œçš„å‡½æ•°æ—¶è¯¥å‡½æ•°æ‰€æœ‰çš„å‚æ•°éƒ½éœ€è¦ç¡®å®šå…¶å€¼ï¼‰</p>
<h1 id="å†…ç½®å‡½æ•°ä»‹ç»"><a href="#å†…ç½®å‡½æ•°ä»‹ç»" class="headerlink" title="å†…ç½®å‡½æ•°ä»‹ç»"></a>å†…ç½®å‡½æ•°ä»‹ç»</h1><table>
<thead>
<tr>
<th align="center">å†…ç½®å‡½æ•°</th>
<th align="center">ä»‹ç»</th>
</tr>
</thead>
<tbody><tr>
<td align="center">close</td>
<td align="center">ä¸»è¦ç”¨æ¥å…³é—­channel</td>
</tr>
<tr>
<td align="center">len</td>
<td align="center">ç”¨æ¥æ±‚é•¿åº¦ï¼Œæ¯”å¦‚stringã€arrayã€sliceã€mapã€channel</td>
</tr>
<tr>
<td align="center">new</td>
<td align="center">ç”¨æ¥åˆ†é…å†…å­˜ï¼Œä¸»è¦ç”¨æ¥åˆ†é…å€¼ç±»å‹ï¼Œæ¯”å¦‚intã€structã€‚è¿”å›çš„æ˜¯æŒ‡é’ˆ</td>
</tr>
<tr>
<td align="center">make</td>
<td align="center">ç”¨æ¥åˆ†é…å†…å­˜ï¼Œä¸»è¦ç”¨æ¥åˆ†é…å¼•ç”¨ç±»å‹ï¼Œæ¯”å¦‚chanã€mapã€slice</td>
</tr>
<tr>
<td align="center">append</td>
<td align="center">ç”¨æ¥è¿½åŠ å…ƒç´ åˆ°æ•°ç»„ã€sliceä¸­</td>
</tr>
<tr>
<td align="center">panicå’Œrecover</td>
<td align="center">ç”¨æ¥åšé”™è¯¯å¤„ç†</td>
</tr>
</tbody></table>
<h3 id="panic-recover"><a href="#panic-recover" class="headerlink" title="panic/recover"></a>panic/recover</h3><p>Goè¯­è¨€ä¸­ç›®å‰ï¼ˆGo1.12ï¼‰æ˜¯æ²¡æœ‰å¼‚å¸¸æœºåˆ¶ï¼Œä½†æ˜¯ä½¿ç”¨<code>panic/recover</code>æ¨¡å¼æ¥å¤„ç†é”™è¯¯ã€‚ </p>
<p><code>panic</code>å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å¼•å‘ï¼Œä½†<code>recover</code>åªæœ‰åœ¨<code>defer</code>è°ƒç”¨çš„å‡½æ•°ä¸­æœ‰æ•ˆã€‚</p>
<p>é¦–å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">funcA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"func A"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">funcB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"panic in B"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">funcC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"func C"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token function">funcA</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">funcB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">funcC</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡ºï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">func A
panic: panic <span class="token keyword">in</span> B

goroutine <span class="token number">1</span> <span class="token punctuation">[</span>running<span class="token punctuation">]</span>:
main.funcB<span class="token punctuation">(</span><span class="token punctuation">..</span>.<span class="token punctuation">)</span>
        <span class="token punctuation">..</span>./code/func/main.go:12
main.main<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">..</span>./code/func/main.go:20 +0x98<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç¨‹åºè¿è¡ŒæœŸé—´<code>funcB</code>ä¸­å¼•å‘äº†<code>panic</code>å¯¼è‡´ç¨‹åºå´©æºƒï¼Œå¼‚å¸¸é€€å‡ºäº†ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡<code>recover</code>å°†ç¨‹åºæ¢å¤å›æ¥ï¼Œç»§ç»­å¾€åæ‰§è¡Œã€‚</p>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">funcA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"func A"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">funcB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		err <span class="token operator">:=</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token comment">//å¦‚æœç¨‹åºå‡ºå‡ºç°äº†panicé”™è¯¯,å¯ä»¥é€šè¿‡recoveræ¢å¤è¿‡æ¥</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
			fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"recover in B"</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"panic in B"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">funcC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"func C"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token function">funcA</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">funcB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">funcC</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li><code>recover()</code>å¿…é¡»æ­é…<code>defer</code>ä½¿ç”¨ã€‚</li>
<li><code>defer</code>ä¸€å®šè¦åœ¨å¯èƒ½å¼•å‘<code>panic</code>çš„è¯­å¥ä¹‹å‰å®šä¹‰ã€‚</li>
</ol>
<h1 id="ç»ƒä¹ -1"><a href="#ç»ƒä¹ -1" class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h1><ol>
<li>åˆ†é‡‘å¸</li>
</ol>
<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">/*
ä½ æœ‰50æšé‡‘å¸ï¼Œéœ€è¦åˆ†é…ç»™ä»¥ä¸‹å‡ ä¸ªäººï¼šMatthew,Sarah,Augustus,Heidi,Emilie,Peter,Giana,Adriano,Aaron,Elizabethã€‚
åˆ†é…è§„åˆ™å¦‚ä¸‹ï¼š
a. åå­—ä¸­æ¯åŒ…å«1ä¸ª'e'æˆ–'E'åˆ†1æšé‡‘å¸
b. åå­—ä¸­æ¯åŒ…å«1ä¸ª'i'æˆ–'I'åˆ†2æšé‡‘å¸
c. åå­—ä¸­æ¯åŒ…å«1ä¸ª'o'æˆ–'O'åˆ†3æšé‡‘å¸
d: åå­—ä¸­æ¯åŒ…å«1ä¸ª'u'æˆ–'U'åˆ†4æšé‡‘å¸
å†™ä¸€ä¸ªç¨‹åºï¼Œè®¡ç®—æ¯ä¸ªç”¨æˆ·åˆ†åˆ°å¤šå°‘é‡‘å¸ï¼Œä»¥åŠæœ€åå‰©ä½™å¤šå°‘é‡‘å¸ï¼Ÿ
ç¨‹åºç»“æ„å¦‚ä¸‹ï¼Œè¯·å®ç° â€˜dispatchCoinâ€™ å‡½æ•°
*/</span>
<span class="token keyword">var</span> <span class="token punctuation">(</span>
	coins <span class="token operator">=</span> <span class="token number">50</span>
	users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span>
		<span class="token string">"Matthew"</span><span class="token punctuation">,</span> <span class="token string">"Sarah"</span><span class="token punctuation">,</span> <span class="token string">"Augustus"</span><span class="token punctuation">,</span> <span class="token string">"Heidi"</span><span class="token punctuation">,</span> <span class="token string">"Emilie"</span><span class="token punctuation">,</span> <span class="token string">"Peter"</span><span class="token punctuation">,</span> <span class="token string">"Giana"</span><span class="token punctuation">,</span> <span class="token string">"Adriano"</span><span class="token punctuation">,</span> <span class="token string">"Aaron"</span><span class="token punctuation">,</span> <span class="token string">"Elizabeth"</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	distribution <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	left <span class="token operator">:=</span> <span class="token function">dispatchCoin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"å‰©ä¸‹ï¼š"</span><span class="token punctuation">,</span> left<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



















</div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>ifDo7</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/" title="Goå…¥é—¨">https://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul><script>document.addEventListener('copy', function (event) {
  const clipboardData = event.clipboardData || window.clipboardData;
  if (!clipboardData) { return; }
  const text = window.getSelection().toString();
  if (text) {
    event.preventDefault();
    clipboardData.setData('text/plain', text + '\n\næœ¬æ–‡ä½œè€…ï¼šifDo7\næœ¬æ–‡é“¾æ¥ï¼šhttps://shgxy.github.io.git/2021/11/22/Go%E5%85%A5%E9%97%A8/\nç‰ˆæƒå£°æ˜ï¼šæœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ CC BY-NC-SA 4.0 è®¸å¯åè®®ã€‚');
  }
});</script></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/11/23/Go%E5%8D%A0%E4%BD%8D%E7%AC%A6%E7%9A%84%E4%BD%BF%E7%94%A8/" rel="prev" title="Goçš„%d,%p,%vç­‰å ä½ç¬¦çš„ä½¿ç”¨"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Goçš„%d,%p,%vç­‰å ä½ç¬¦çš„ä½¿ç”¨</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/11/04/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" rel="next" title="æ•°æ®ç»“æ„ä¸ç®—æ³•"><span class="post-nav-text">æ•°æ®ç»“æ„ä¸ç®—æ³•</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>å¦‚æœæ‚¨æœ‰ä»»ä½•å…³äºåšå®¢å†…å®¹çš„ç›¸å…³è®¨è®ºï¼Œæ¬¢è¿å‰å¾€ <a href="https://github.com/Shgxy/Shgxy.github.io/discussions" target="_blank">GitHub Discussions</a> ä¸æˆ‘äº¤æµã€‚</span><br></div><div id="minivaline-container"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/minivaline@6", () => {
  const minivalineConfig = {"enable":true,"serverURL":"https://waline.vercel.app","md":true,"backend":"waline"}
  minivalineConfig.el = "#minivaline-container"
  new MiniValine(minivalineConfig);
}, window.MiniValine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 </span><span class="with-love" id="animate" title="æ€¥ï¼é“¾æ¥ä½æ‹›ç§Ÿ~~"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> ifDo7</span></div><div class="live_time"><span>æœ¬åšå®¢å·²ç«­å°½å…¨åŠ›åœ°è¿è¡Œäº†</span><span id="display_live_time"></span><span class="moe-text">å•¦ğŸ¥°~ (â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-07-01T13:14:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="æ€»è®¿å®¢é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="æ€»è®¿é—®é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æœç´¢..." value=""></div><div id="local-search-result"></div></div><script>const date = new Date();
const today = (date.getMonth() + 1) + "-" + date.getDate()
const mourn_days = ["4-4"]
if (mourn_days.includes(today)) {
  document.documentElement.style.filter = "grayscale(1)";
}</script></div></body></html>