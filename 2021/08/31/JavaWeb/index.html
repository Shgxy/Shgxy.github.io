<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="ifDo7"><meta name="copyright" content="ifDo7"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>JavaWeb | ifDo7's Blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_j5gk85dg4pf.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"shgxy.github.io.git","root":"/","title":"å¯é‚£ç¯ç«æœªæ˜çš„ä¸è€é˜","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["255, 0, 0","0, 255, 0","0, 255, 255"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><link rel="alternate" href="/atom.xml" title="ifDo7's Blog" type="application/atom+xml"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="Java Web    WebæœåŠ¡å™¨ æœåŠ¡å™¨æ˜¯ä¸€ç§è¢«åŠ¨çš„æ“ä½œï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„ä¸€äº›è¯·æ±‚å’Œç»™ç”¨æˆ·ä¸€äº›å“åº”ä¿¡æ¯ã€‚  IISï¼š  å¾®è½¯ ASPï¼ŒWindowsè‡ªå¸¦  Tomcatï¼š(æ‰‹æ’¸Tomcat)   æ€§èƒ½ç¨³å®šï¼Œå¼€æºå…è´¹ è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼šç”¨äºä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹ä½¿ç”¨ å®é™…è¿è¡ŒJSPé¡µé¢å’ŒServletï¼Œç›®å‰Tomcatæœ€æ–°ç‰ˆæœ¬ä¸º10.0.5    TomcatTomcatä¸‹">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb">
<meta property="og:url" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/index.html">
<meta property="og:site_name" content="ifDo7&#39;s Blog">
<meta property="og:description" content="Java Web    WebæœåŠ¡å™¨ æœåŠ¡å™¨æ˜¯ä¸€ç§è¢«åŠ¨çš„æ“ä½œï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„ä¸€äº›è¯·æ±‚å’Œç»™ç”¨æˆ·ä¸€äº›å“åº”ä¿¡æ¯ã€‚  IISï¼š  å¾®è½¯ ASPï¼ŒWindowsè‡ªå¸¦  Tomcatï¼š(æ‰‹æ’¸Tomcat)   æ€§èƒ½ç¨³å®šï¼Œå¼€æºå…è´¹ è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼šç”¨äºä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹ä½¿ç”¨ å®é™…è¿è¡ŒJSPé¡µé¢å’ŒServletï¼Œç›®å‰Tomcatæœ€æ–°ç‰ˆæœ¬ä¸º10.0.5    TomcatTomcatä¸‹">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/Tomcat.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210831181629573-16304231655614.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210831183430704-16304231550832.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210831184409167.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210831225859344-16304231773976.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901133952175.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901142111682.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901142544924.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901142839464.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901143011773.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901143720377.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901144221232.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901144901105.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901151607282.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901152102300.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901153211970.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901163018551.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901163636210.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901164623023.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901172445959.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901213118815.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210901223808834.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210912010047675-16320528401141.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210911225436730.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210917133816786.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210917144731892.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210918225558933.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210918225636691.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210918225741539.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210918234027161.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210919173341844.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210802131132288-16320698527705.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210919181352551.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210802131132288-16320698287493.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210920004511538.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210924163159751.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210924171112679.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210929215701836.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210929215738958.png">
<meta property="og:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/image-20210929225321921.png">
<meta property="article:published_time" content="2021-08-31T09:27:00.000Z">
<meta property="article:modified_time" content="2021-09-29T15:02:58.230Z">
<meta property="article:author" content="ifDo7">
<meta property="article:tag" content="notes">
<meta property="article:tag" content="Tomcat">
<meta property="article:tag" content="Maven">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://shgxy.github.io.git/2021/08/31/JavaWeb/Tomcat.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="ifDo7"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="ifDo7"><span class="site-author-status" title="ç»´çº³æ–¯çš„é“¶é’©ã€‚">ğŸ¥±</span></a><div class="site-author-name"><a href="/about/">ifDo7</a></div><span class="site-name">ifDo7's Blog</span><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">20</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">18</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">15</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" title="QQç¾¤:å¾…å®šing" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="å¾®ä¿¡:shg799" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Shgxy" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:shg799@foxmail.com" title="E-Mail:shg799@foxmail.com" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/" title="å…±äº§ä¸»ä¹‰æ¥ç­äºº" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Web%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.</span> <span class="toc-text">WebæœåŠ¡å™¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Tomcat"><span class="toc-number">2.</span> <span class="toc-text">Tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Tomcat%E7%9A%84%E5%90%AF%E5%8A%A8%E4%B8%8E%E9%85%8D%E7%BD%AE"><span class="toc-number">2.1.</span> <span class="toc-text">Tomcatçš„å¯åŠ¨ä¸é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E4%B8%80%E4%B8%AAWeb%E7%BD%91%E7%AB%99"><span class="toc-number">2.2.</span> <span class="toc-text">å‘å¸ƒä¸€ä¸ªWebç½‘ç«™</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Maven"><span class="toc-number">3.</span> <span class="toc-text">Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD"><span class="toc-number">3.1.</span> <span class="toc-text">ä¸‹è½½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">3.2.</span> <span class="toc-text">é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"><span class="toc-number">3.3.</span> <span class="toc-text">æœ¬åœ°ä»“åº“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA%E4%B8%AD%E4%BD%BF%E7%94%A8Maven"><span class="toc-number">3.4.</span> <span class="toc-text">IDEAä¸­ä½¿ç”¨Maven</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAMaven%E7%A9%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">3.5.</span> <span class="toc-text">æ–°å»ºMavenç©ºé¡¹ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0%E6%96%87%E4%BB%B6%E5%A4%B9%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">3.6.</span> <span class="toc-text">æ ‡è®°æ–‡ä»¶å¤¹çš„åŠŸèƒ½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA%E4%B8%AD%E9%85%8D%E7%BD%AETomcat"><span class="toc-number">3.7.</span> <span class="toc-text">IDEAä¸­é…ç½®Tomcat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pom%E6%96%87%E4%BB%B6"><span class="toc-number">3.8.</span> <span class="toc-text">pomæ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Servlet"><span class="toc-number">4.</span> <span class="toc-text">Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#HelloServlet"><span class="toc-number">4.1.</span> <span class="toc-text">HelloServlet</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet%E5%8E%9F%E7%90%86"><span class="toc-number">4.2.</span> <span class="toc-text">ServletåŸç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mapping%E9%97%AE%E9%A2%98"><span class="toc-number">4.3.</span> <span class="toc-text">Mappingé—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ServletContext"><span class="toc-number">4.4.</span> <span class="toc-text">ServletContext()</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE"><span class="toc-number">4.4.1.</span> <span class="toc-text">å…±äº«æ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0"><span class="toc-number">4.4.2.</span> <span class="toc-text">è·å–åˆå§‹åŒ–å‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-number">4.4.3.</span> <span class="toc-text">è¯·æ±‚è½¬å‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6"><span class="toc-number">4.4.4.</span> <span class="toc-text">è¯»å–èµ„æºæ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HttpServletResponse"><span class="toc-number">4.5.</span> <span class="toc-text">HttpServletResponse</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%88%86%E7%B1%BB"><span class="toc-number">4.5.1.</span> <span class="toc-text">ç®€å•åˆ†ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8"><span class="toc-number">4.5.2.</span> <span class="toc-text">å¸¸è§åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E7%A0%81%E5%8A%9F%E8%83%BD"><span class="toc-number">4.5.3.</span> <span class="toc-text">éªŒè¯ç åŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">4.5.4.</span> <span class="toc-text">å®ç°é‡å®šå‘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HttpServletRequest"><span class="toc-number">4.6.</span> <span class="toc-text">HttpServletRequest</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%89%8D%E7%AB%AF%E5%8F%82%E6%95%B0%EF%BC%8C%E5%B9%B6%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-number">4.6.1.</span> <span class="toc-text">è·å–å‰ç«¯å‚æ•°ï¼Œå¹¶è¯·æ±‚è½¬å‘</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Cookie-amp-Session"><span class="toc-number">5.</span> <span class="toc-text">Cookie &amp; Session</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Cookie"><span class="toc-number">5.1.</span> <span class="toc-text">Cookie</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Session"><span class="toc-number">5.2.</span> <span class="toc-text">Session</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JSP%EF%BC%88Java-Server-Pages%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">JSPï¼ˆJava Server Pagesï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP%E6%BA%90%E7%A0%81"><span class="toc-number">6.1.</span> <span class="toc-text">JSPæºç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-number">6.2.</span> <span class="toc-text">JSPåŸºç¡€è¯­æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.1.</span> <span class="toc-text">æ·»åŠ ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">6.2.2.</span> <span class="toc-text">æ³¨é‡Š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Java%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.2.3.</span> <span class="toc-text">Javaè¯­å¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E5%A3%B0%E6%98%8E"><span class="toc-number">6.2.4.</span> <span class="toc-text">JSPå£°æ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DIY%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2"><span class="toc-number">6.2.5.</span> <span class="toc-text">DIYé”™è¯¯é¡µé¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E5%90%ABHTML%E5%85%AC%E5%85%B1%E9%A1%B5%E9%9D%A2"><span class="toc-number">6.2.6.</span> <span class="toc-text">åŒ…å«HTMLå…¬å…±é¡µé¢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.3.</span> <span class="toc-text">JSPä¹å¤§å†…ç½®å¯¹è±¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP-JSTL-EL"><span class="toc-number">6.4.</span> <span class="toc-text">JSP&#x2F;JSTL&#x2F;EL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Expression-Language"><span class="toc-number">6.4.1.</span> <span class="toc-text">Expression Language</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8"><span class="toc-number">6.4.1.1.</span> <span class="toc-text">ä½œç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">6.4.1.2.</span> <span class="toc-text">ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP"><span class="toc-number">6.4.2.</span> <span class="toc-text">JSP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSTL-Java-server-pages-Standard-Tag-Library"><span class="toc-number">6.4.3.</span> <span class="toc-text">JSTL(Java server pages Standard Tag Library)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%B8%B8%E7%94%A8"><span class="toc-number">6.4.3.1.</span> <span class="toc-text">ä¸å¸¸ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A0%87%E7%AD%BE%E2%AD%90"><span class="toc-number">6.4.3.2.</span> <span class="toc-text">æ ¸å¿ƒæ ‡ç­¾â­</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5"><span class="toc-number">6.4.3.2.1.</span> <span class="toc-text">å¯¼å…¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-1"><span class="toc-number">6.4.3.2.2.</span> <span class="toc-text">ä½¿ç”¨</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaBean"><span class="toc-number">7.</span> <span class="toc-text">JavaBean</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MVC%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">8.</span> <span class="toc-text">MVCä¸‰å±‚æ¶æ„</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%94%B4Filter"><span class="toc-number">9.</span> <span class="toc-text">ğŸ”´Filter</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-number">10.</span> <span class="toc-text">ç›‘å¬å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#session%E7%9B%91%E5%90%AC"><span class="toc-number">10.1.</span> <span class="toc-text">sessionç›‘å¬</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SMBMS"><span class="toc-number">11.</span> <span class="toc-text">SMBMS</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://Shgxy.github.io.git/2021/08/31/JavaWeb/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="ifDo7"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="ifDo7's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">JavaWeb</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2021-08-31 17:27:00" itemprop="dateCreated datePublished" datetime="2021-08-31T17:27:00+08:00">2021-08-31</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-09-29 23:02:58" itemprop="dateModified" datetime="2021-09-29T23:02:58+08:00">2021-09-29</time></div><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Java/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Java</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Java/Web/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Web</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/notes/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">notes</span></a><a class="tag-item" href="/tags/Tomcat/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Tomcat</span></a><a class="tag-item" href="/tags/Maven/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Maven</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><table>
<thead>
<tr>
<th align="center"><strong>Java Web</strong></th>
</tr>
</thead>
</table>
<h1 id="WebæœåŠ¡å™¨"><a href="#WebæœåŠ¡å™¨" class="headerlink" title="WebæœåŠ¡å™¨"></a><strong>WebæœåŠ¡å™¨</strong></h1><blockquote>
<p>æœåŠ¡å™¨æ˜¯ä¸€ç§è¢«åŠ¨çš„æ“ä½œï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„ä¸€äº›è¯·æ±‚å’Œç»™ç”¨æˆ·ä¸€äº›å“åº”ä¿¡æ¯ã€‚</p>
</blockquote>
<p><strong>IISï¼š</strong></p>
<ul>
<li>å¾®è½¯</li>
<li>ASPï¼ŒWindowsè‡ªå¸¦</li>
</ul>
<p><strong>Tomcatï¼š</strong>(æ‰‹æ’¸Tomcat)</p>
<p><img src="./Tomcat.png" alt="Tomcat"></p>
<ul>
<li>æ€§èƒ½ç¨³å®šï¼Œå¼€æºå…è´¹</li>
<li>è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼šç”¨äºä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹ä½¿ç”¨</li>
<li>å®é™…è¿è¡Œ<strong>JSP</strong>é¡µé¢å’Œ<strong>Servlet</strong>ï¼Œç›®å‰Tomcatæœ€æ–°ç‰ˆæœ¬ä¸º<strong>10.0.5</strong></li>
</ul>
<br/>

<h1 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a><strong>Tomcat</strong></h1><p><a target="_blank" rel="noopener" href="https://tomcat.apache.org/download-90.cgi">Tomcatä¸‹è½½é“¾æ¥</a></p>
<img src="./image-20210831181629573-16304231655614.png" alt="image-20210831181629573" style="zoom:67%;" />

<p><del>æ— éœ€å®‰è£…ï¼Œé€‰æ‹©è·¯å¾„è§£å‹å³å¯ä½¿ç”¨ã€‚</del></p>
<h2 id="Tomcatçš„å¯åŠ¨ä¸é…ç½®"><a href="#Tomcatçš„å¯åŠ¨ä¸é…ç½®" class="headerlink" title="Tomcatçš„å¯åŠ¨ä¸é…ç½®"></a>Tomcatçš„å¯åŠ¨ä¸é…ç½®</h2><p><strong>å¯åŠ¨ï¼š</strong>åŒå‡» â€“&gt; <code>bin/startup.bat</code>ï¼Œå¼¹å‡ºçª—å£</p>
<p>æµè§ˆå™¨è¾“å…¥ï¼š<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a> ï¼Œæ˜¾ç¤ºé¡µé¢å¦‚ä¸‹å³è¡¨ç¤ºæˆåŠŸã€‚</p>
<img src="./image-20210831183430704-16304231550832.png" alt="image-20210831183430704" style="zoom: 67%;" />

<p><strong>å…³é—­ï¼š</strong>ç‚¹å‡»<code>X</code>ï¼Œæˆ–è€…åŒå‡» â€“&gt; <code>bin/shutdown.bat</code></p>
<br/>

<p><strong>æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼š</strong></p>
<p><img src="./image-20210831184409167.png" alt="image-20210831184409167"></p>
<p>å¯ä»¥é…ç½®å¯åŠ¨çš„<strong>port</strong>ç«¯å£å·ï¼ˆé»˜è®¤8080ï¼‰ï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Connector</span> 	<span class="token attr-name">port</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8080<span class="token punctuation">"</span></span> <span class="token attr-name">protocol</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>HTTP/1.1<span class="token punctuation">"</span></span>
			<span class="token attr-name">connectionTimeout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20000<span class="token punctuation">"</span></span>
           	<span class="token attr-name">redirectPort</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8443<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="å‘å¸ƒä¸€ä¸ªWebç½‘ç«™"><a href="#å‘å¸ƒä¸€ä¸ªWebç½‘ç«™" class="headerlink" title="å‘å¸ƒä¸€ä¸ªWebç½‘ç«™"></a>å‘å¸ƒä¸€ä¸ªWebç½‘ç«™</h2><p>å†™çš„ç½‘ç«™æ”¾åœ¨<strong>webapps</strong>æ–‡ä»¶å¤¹ä¸‹å³å¯ã€‚</p>
<p><img src="./image-20210831225859344-16304231773976.png" alt="image-20210831225859344"></p>
<p><strong>ç½‘ç«™è¯¥æœ‰çš„ç»“æ„ï¼š</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">--</span>webapps					<span class="token operator">:</span><span class="token class-name">Tomcat</span>æœåŠ¡å™¨çš„webç›®å½•
    <span class="token operator">-</span>ROOT
    <span class="token operator">-</span>shgxy					<span class="token operator">:</span>è‡ªå·±æ­å»ºçš„ç½‘ç«™ç›®å½•å
    	<span class="token operator">-</span> WEB<span class="token operator">-</span>INF
    		<span class="token operator">-</span>classes		<span class="token operator">:</span>javaç¨‹åº
            <span class="token operator">-</span>lib			<span class="token operator">:</span>webåº”ç”¨æ‰€ä¾èµ–çš„jaråŒ…
            <span class="token operator">-</span>web<span class="token punctuation">.</span>xml		<span class="token operator">:</span>ç½‘ç«™é…ç½®æ–‡ä»¶
        <span class="token operator">-</span> index<span class="token punctuation">.</span>html
        <span class="token operator">-</span> <span class="token keyword">static</span>
            <span class="token operator">-</span>css
                <span class="token operator">-</span>style<span class="token punctuation">.</span>css
            <span class="token operator">-</span>js
            <span class="token operator">-</span>img
        <span class="token operator">-</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>others<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<br/>

<h1 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a><strong>Maven</strong></h1><blockquote>
<p>Mavenæ˜¯ä¸€ä¸ªé¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ–¹ä¾¿åœ°å¯¼å…¥jaråŒ…ã€‚</p>
</blockquote>
<p><strong>Maven</strong> æ ¸å¿ƒæ€æƒ³ï¼š<strong>çº¦å®šå¤§äºé…ç½®</strong>ã€‚</p>
<ul>
<li>æœ‰çº¦æŸï¼Œå‹¿è¿å</li>
</ul>
<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><a target="_blank" rel="noopener" href="https://maven.apache.org/download.cgi"><strong>Maven</strong>ä¸‹è½½</a></p>
<img src="./image-20210901133952175.png" alt="image-20210901133952175" style="zoom:67%;" />

<p>è§£å‹å³å¯ã€‚</p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p><strong>ç¯å¢ƒå˜é‡ï¼š</strong></p>
<p>é…ç½®ç¯å¢ƒå˜é‡ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p>
<ul>
<li>M2_HOMEï¼šbinç›®å½•</li>
<li>MAVEN_HOMEï¼šæ ¹ç›®å½•</li>
<li>Pathï¼š%MAVEN_HOME%\bin</li>
</ul>
<p>é…ç½®å¥½ï¼Œå‘½ä»¤çª—è¾“å…¥<code>mvn -version</code>ï¼Œå‡ºç°å¦‚ä¸‹æ‰€ç¤ºï¼Œå³ä»£è¡¨é…ç½®å®Œæˆã€‚</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>userName<span class="token operator">></span>mvn -version
Apache Maven <span class="token number">3.8</span>.2 <span class="token punctuation">(</span>ea98e05a04480131370aa0c110b8c54cf726c06f<span class="token punctuation">)</span>
Maven home: D:<span class="token punctuation">\</span>Environment<span class="token punctuation">\</span>apache-maven-3.8.2
Java version: <span class="token number">11.0</span>.11, vendor: Oracle Corporation, runtime: C:<span class="token punctuation">\</span>Program Files<span class="token punctuation">\</span>Java<span class="token punctuation">\</span>jdk-11.0.11
Default locale: zh_CN, platform encoding: GBK
OS name: <span class="token string">"windows 10"</span>, version: <span class="token string">"10.0"</span>, arch: <span class="token string">"amd64"</span>,family: <span class="token string">"windows"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<br/>

<p><strong>é•œåƒåŠ é€Ÿï¼š</strong></p>
<p>ä¿®æ”¹<code>conf/settings.xml</code>ï¼Œåœ¨<code>&lt;mirrors&gt;</code>æ ‡ç­¾ä¸‹æ’å…¥ä¸‹é¢å†…å®¹ï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>nexus-aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">></span></span>*,!jeecg,!jeecg-snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>Nexus aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>http://maven.aliyun.com/nexus/content/groups/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">></span></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="æœ¬åœ°ä»“åº“"><a href="#æœ¬åœ°ä»“åº“" class="headerlink" title="æœ¬åœ°ä»“åº“"></a>æœ¬åœ°ä»“åº“</h2><p><strong>å»ºç«‹ä¸€ä¸ªæœ¬åœ°ä»“åº“ï¼š</strong></p>
<ul>
<li>ä¿®æ”¹<code>conf/settings.xml</code>ï¼Œåœ¨<code>&lt;localRepository&gt;</code>æ ‡ç­¾ä¸‹æ’å…¥ä¸‹é¢å†…å®¹ï¼š</li>
</ul>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">></span></span>D:\Environment\apache-maven-3.8.2\maven-repo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="IDEAä¸­ä½¿ç”¨Maven"><a href="#IDEAä¸­ä½¿ç”¨Maven" class="headerlink" title="IDEAä¸­ä½¿ç”¨Maven"></a>IDEAä¸­ä½¿ç”¨Maven</h2><p><strong>åˆ›å»ºé¡¹ç›®ï¼š</strong></p>
<p><img src="./image-20210901142111682.png" alt="image-20210901142111682"></p>
<p><strong>å‘½åï¼š</strong></p>
<p><img src="./image-20210901142544924.png" alt="image-20210901142544924"></p>
<p><strong>é…ç½®åœ°å€ï¼š</strong></p>
<p><img src="./image-20210901142839464.png" alt="image-20210901142839464"></p>
<p>ç‚¹å‡»å®Œæˆï¼Œå†ç‚¹ <strong><em>Enabled Auto-Import</em></strong> ï¼Œç­‰å¾…é¡¹ç›®åˆå§‹åŒ–å®Œæ¯•ï¼š</p>
<p><img src="./image-20210901143011773.png" alt="image-20210901143011773"></p>
<p>å‡ºç° <strong><em>BUILD SUCCESS</em></strong> å³è¡¨ç¤ºåˆå§‹åŒ–å®Œæˆï¼š</p>
<p><img src="./image-20210901143720377.png" alt="image-20210901143720377"></p>
<p><strong><em>maven-repo</em></strong> ä¸­å‡ºç°å¦‚ä¸‹æ–‡ä»¶å¤¹ï¼š</p>
<img src="./image-20210901144221232.png" alt="image-20210901144221232" style="zoom:67%;" />

<div class="danger">

<blockquote>
<p>é¡¹ç›®åˆ›å»ºæˆåŠŸåï¼Œçœ‹ä¸€çœ¼Mavençš„é…ç½®ï¼ˆè°¨é˜²é€‰åœ¨äº†Cç›˜æˆ–è€…å…¶ä»–.m2æ–‡ä»¶å¤¹ä¸‹ï¼‰ï¼Œå¦‚ä¸‹å›¾</p>
</blockquote>
</div>

<img src="./image-20210901144901105.png" alt="image-20210901144901105" style="zoom:80%;" />

<div class="success">

<blockquote>
<p>è‡³æ­¤ï¼ŒMavenåœ¨IDEAä¸­çš„é…ç½®å’Œä½¿ç”¨å°±OKäº†ã€‚</p>
</blockquote>
</div>



<h2 id="æ–°å»ºMavenç©ºé¡¹ç›®"><a href="#æ–°å»ºMavenç©ºé¡¹ç›®" class="headerlink" title="æ–°å»ºMavenç©ºé¡¹ç›®"></a>æ–°å»ºMavenç©ºé¡¹ç›®</h2><p>æ­¥éª¤å³çœç•¥äº†ä¸Šä¸€èŠ‚â€<strong>åˆ›å»ºé¡¹ç›®</strong>â€œä¸­çš„å¤æ‚æ­¥éª¤ï¼Œç›´æ¥ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œåç»­æ­¥éª¤ä¸å˜ã€‚</p>
<div class="danger">

<blockquote>
<p>å°é—®é¢˜</p>
</blockquote>
</div>

<p>æŠ›å‡ºå‡ ä¸ªå¦‚ä¸‹ç±»å‹çš„é”™è¯¯è¯­å¥ï¼š</p>
<p><strong>Could not transfer artifact org.codehaus.plexus:plexus-components:pom:1.1.14 from/to central (<a target="_blank" rel="noopener" href="https://repo.maven.apache.org/maven2">https://repo.maven.apache.org/maven2</a>): Tag mismatch!</strong></p>
<p><strong>Cannot resolve plugin org.apache.maven.plugins:maven-surefire-plugin:2.12.4</strong></p>
<p><del>ç­‰ç­‰ã€‚</del></p>
<p><img src="./image-20210901151607282.png" alt="image-20210901151607282"></p>
<p>ç‚¹å‡» ğŸ”„ æŒ‰é’®ï¼Œé™å€™ä¸‹è½½å®Œæˆå³å¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<img src="./image-20210901152102300.png" alt="image-20210901152102300" style="zoom:80%;" />



<p>åˆå§‹çš„é…ç½®æ–‡ä»¶<code>pom.xml</code>ï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.shgxy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javaweb-01-maven02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="æ ‡è®°æ–‡ä»¶å¤¹çš„åŠŸèƒ½"><a href="#æ ‡è®°æ–‡ä»¶å¤¹çš„åŠŸèƒ½" class="headerlink" title="æ ‡è®°æ–‡ä»¶å¤¹çš„åŠŸèƒ½"></a>æ ‡è®°æ–‡ä»¶å¤¹çš„åŠŸèƒ½</h2><p><img src="./image-20210901153211970.png" alt="image-20210901153211970"></p>
<h2 id="IDEAä¸­é…ç½®Tomcat"><a href="#IDEAä¸­é…ç½®Tomcat" class="headerlink" title="IDEAä¸­é…ç½®Tomcat"></a>IDEAä¸­é…ç½®Tomcat</h2><p>è¿è¡Œ â€“&gt; ç¼–è¾‘é…ç½®ï¼Œæ‰“å¼€å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç•Œé¢ï¼š</p>
<img src="./image-20210901163018551.png" alt="image-20210901163018551" style="zoom:80%;" />

<p><strong>è§£å†³è­¦å‘Šé—®é¢˜ï¼ˆå¿…é¡»è¦æœ‰çš„æ“ä½œï¼‰ï¼š</strong></p>
<img src="./image-20210901163636210.png" alt="image-20210901163636210" style="zoom:80%;" />



<p><strong>å¯åŠ¨ï¼š</strong></p>
<img src="./image-20210901164623023.png" alt="image-20210901164623023" style="zoom:80%;" />

<p>æ­¤æ—¶Chromeå¼¹å‡ºâ€Hello World!â€ç•Œé¢ã€‚</p>
<h2 id="pomæ–‡ä»¶"><a href="#pomæ–‡ä»¶" class="headerlink" title="pomæ–‡ä»¶"></a>pomæ–‡ä»¶</h2><p><code>pom.xml</code>æ˜¯Mavençš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ã€‚</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token comment">&lt;!--Mavenç‰ˆæœ¬å’Œå¤´æ–‡ä»¶--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--é…ç½®çš„Gã€Aã€V--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.shgxy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>java-web-01-maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--Packageï¼šé¡¹ç›®çš„æ‰“åŒ…æ–¹å¼
  jarï¼šjavaåº”ç”¨
  warï¼šjavaWebåº”ç”¨
  --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span>

  <span class="token comment">&lt;!--é…ç½®--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!--é¡¹ç›®çš„é»˜è®¤æ„å»ºç¼–ç --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!--ç¼–ç ç‰ˆæœ¬--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">></span></span>1.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">></span></span>1.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!--é¡¹ç›®ä¾èµ–--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!--å…·ä½“ä¾èµ–çš„jaråŒ…é…ç½®æ–‡ä»¶--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>

  <span class="token comment">&lt;!--é¡¹ç›®æ„å»ºçš„ä¸œè¥¿--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">></span></span>java-web-01-maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginManagement</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-clean-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-resources-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.0.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.8.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-surefire-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.22.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-war-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-install-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.5.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-deploy-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.8.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginManagement</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>mavenç”±äºä»–çš„çº¦å®šå¤§äºé…ç½®ï¼Œæˆ‘ä»¬ä¹‹åå¯ä»¥èƒ½é‡åˆ°æˆ‘ä»¬å†™çš„é…ç½®æ–‡ä»¶ï¼Œæ— æ³•è¢«å¯¼å‡ºæˆ–è€…ç”Ÿæ•ˆçš„é—®é¢˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ³•ï¼š</strong>åœ¨buildä¸­é…ç½®resourcesï¼Œæ¥é˜²æ­¢æˆ‘ä»¬èµ„æºå¯¼å‡ºå¤±è´¥çš„é—®é¢˜ã€‚</p>
<p>åœ¨dependencyæ ‡ç­¾ä¸­å¡«å†™GAVå³å¯å¯¼å…¥jaråŒ…ï¼ŒjaråŒ…çš„GAVä¿¡æ¯å¯ä»¥åœ¨<a target="_blank" rel="noopener" href="https://mvnrepository.com/">mavenä»“åº“</a>æ£€ç´¢ã€‚</p>
<blockquote>
<p>Mavenå¯ä»¥è‡ªåŠ¨å¯¼å…¥jaråŒ…ä¾èµ–çš„å…¶ä»–åŒ…</p>
</blockquote>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-no-template<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">></span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">></span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨<a target="_blank" rel="noopener" href="https://mvnrepository.com/">mavenä»“åº“</a>ä¸­å¯»æ‰¾ä¾èµ–å¹¶ä½¿ç”¨ï¼š</p>
<p><img src="./image-20210901172445959.png" alt="image-20210901172445959"></p>
<h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a><strong>Servlet</strong></h1><blockquote>
<p>Servletæ˜¯SUNå…¬å¸å¼€å‘çš„åŠ¨æ€webæŠ€æœ¯ã€‚</p>
</blockquote>
<p>å¼€å‘ä¸€ä¸ª Servlet ç¨‹åºçš„ä¸¤ä¸ªå°<strong>æ­¥éª¤</strong>ï¼š</p>
<ul>
<li>ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç°Servletæ¥å£<ul>
<li>æœ‰ä¸¤ä¸ªé»˜è®¤çš„å®ç°ç±»<ul>
<li><code>HttpServlet</code></li>
<li><code>GenericServlet</code></li>
</ul>
</li>
</ul>
</li>
<li>å°†å¼€å‘å¥½çš„Javaç±»éƒ¨ç½²åˆ°WebæœåŠ¡å™¨ä¸­</li>
</ul>
<h2 id="HelloServlet"><a href="#HelloServlet" class="headerlink" title="HelloServlet"></a><strong>HelloServlet</strong></h2><p><strong>æ­¥éª¤ï¼š</strong></p>
<ol>
<li>æ„å»ºä¸€ä¸ªMavené¡¹ç›®ï¼ˆjavaweb-02-servletï¼‰ï¼Œåˆ æ‰é‡Œé¢çš„ src ç›®å½•ï¼Œä»¥åå°±åœ¨æ­¤é¡¹ç›®é‡Œå»ºç«‹moduleï¼ˆå¦‚ servlet-01ï¼‰ï¼›å¯¼å…¥ä»“åº“ä¸­çš„ä¾èµ–ï¼ˆæ”¾åœ¨<code>&lt;dependencies&gt;</code>æ ‡ç­¾ä¸‹ï¼‰ï¼š</li>
</ol>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.0.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    
    <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javax.servlet.jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>â€‹    å¯¼å…¥ä»“åº“ä¸­çš„ä¾èµ–æ—¶ï¼Œå¯ä»¥<strong>åˆ æ‰</strong>ä»¥ä¸‹è¯­å¥ï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>		&lt;!--å¯ä»¥åˆ æ‰è¿™ä¸ªä½œç”¨åŸŸ<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ol start="2">
<li><p>å…³äºMavençˆ¶å­å·¥ç¨‹çš„ç†è§£ï¼š</p>
<p>çˆ¶é¡¹ç›®ä¼šæœ‰ï¼š</p>
</li>
</ol>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>servlet-01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>â€‹        å­é¡¹ç›®ä¼šæœ‰ï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javaweb-02-servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.shgxy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>çˆ¶é¡¹ç›®ä¸­çš„ java å­é¡¹ç›®å¯ä»¥ç›´æ¥ç”¨ã€‚</p>
</blockquote>
<ol start="3">
<li><p>Mavenç¯å¢ƒä¼˜åŒ–</p>
<ol>
<li>ä¿®æ”¹web.xmlä¸ºæœ€æ–°çš„ï¼ˆTomcatæ–‡ä»¶å¤¹ä¸‹çš„åŒåæ–‡ä»¶å¤åˆ¶è¿‡æ¥ï¼‰</li>
<li>å°†Mavençš„ç»“æ„æ­å»ºå®Œæ•´</li>
</ol>
</li>
<li><p>ç¼–å†™ä¸€ä¸ªServletç¨‹åº</p>
<ol>
<li>ç¼–å†™ä¸€ä¸ªæ™®é€šç±»</li>
<li>å®ç°Servletæ¥å£ï¼Œå¦‚ç›´æ¥ç»§æ‰¿ <code>HttpServlet</code></li>
</ol>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//ServletOutputStream stream = resp.getOutputStream();</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å“åº”æµ</span>
        writer<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello,Servlet!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>ç¼–å†™Servletçš„æ˜ å°„</p>
<p><code>servlet-class</code>æ˜¯æ˜ å°„ç±»ï¼Œ<code>url-pattern</code>æ˜¯æ˜ å°„è·¯å¾„ï¼›</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦æ˜ å°„ï¼šæˆ‘ä»¬å†™çš„æ˜¯JAVAç¨‹åºï¼Œä½†æ˜¯è¦é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œè€Œæµè§ˆå™¨éœ€è¦è¿æ¥webæœåŠ¡å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å†webæœåŠ¡ä¸­æ³¨å†Œæˆ‘ä»¬å†™çš„Servletï¼Œè¿˜éœ€ç»™ä»–ä¸€ä¸ªæµè§ˆå™¨èƒ½å¤Ÿè®¿é—®çš„è·¯å¾„ï¼›</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--æ³¨å†ŒServlet (äºweb.xmlä¸­é…ç½®)--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>com.shgxy.serclet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--Servletçš„è¯·æ±‚è·¯å¾„--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/hS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>é…ç½®Tomcat</p>
</li>
<li><p>å¯åŠ¨æµ‹è¯•ï¼Œ</p>
<p>æµè§ˆå™¨è¾“å…¥ï¼š<a target="_blank" rel="noopener" href="http://localhost:8080/servlet_01_war/hS">http://localhost:8080/servlet_01_war/hS</a></p>
<p>å¼¹å‡ºï¼šHello,Servlet!</p>
</li>
</ol>
<p><del>æ–¹ä¾¿çœ‹å‡½æ•°åï¼šæºç å½“å‰ç±»å³é”® â€“&gt; æŠ˜å  â€“&gt; å…¨éƒ¨æŠ˜å </del></p>
<h2 id="ServletåŸç†"><a href="#ServletåŸç†" class="headerlink" title="ServletåŸç†"></a><strong>ServletåŸç†</strong></h2><p><img src="./image-20210901213118815.png" alt="image-20210901213118815"></p>
<h2 id="Mappingé—®é¢˜"><a href="#Mappingé—®é¢˜" class="headerlink" title="Mappingé—®é¢˜"></a><strong>Mappingé—®é¢˜</strong></h2><ul>
<li>æ˜ å°„åœ°å€å¯ä»¥æ˜¯ä¸€å¯¹ä¸€ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€å¯¹å¤š</li>
<li>æ˜ å°„åœ°å€ä¸­å¯ä»¥ä½¿ç”¨<code>/*</code>é€šé…ç¬¦</li>
<li>ä¼˜å…ˆèµ°å…·ä½“çš„æ˜ å°„ï¼Œé»˜è®¤æ˜¯<code>/*</code></li>
<li>æŒ‡å®šä¸€äº›åç¼€æˆ–è€…å‰ç¼€ç­‰ç­‰ï¼Œå¦‚ <code>*.shgxy.com</code></li>
</ul>
<h2 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext()"></a><strong>ServletContext()</strong></h2><p>webå®¹å™¨åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œå®ƒä¼šä¸ºæ¯ä¸ªwebç¨‹åºéƒ½åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ServletContextå¯¹è±¡ï¼Œå®ƒä»£è¡¨äº†å½“å‰çš„webåº”ç”¨ï¼›</p>
<p><img src="./image-20210901223808834.png" alt="image-20210901223808834"></p>
<h3 id="å…±äº«æ•°æ®"><a href="#å…±äº«æ•°æ®" class="headerlink" title="å…±äº«æ•°æ®"></a>å…±äº«æ•°æ®</h3><p><code>HelloServlet.java</code></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//this.getInitParameter();  åˆå§‹åŒ–å‚æ•°</span>
        <span class="token comment">//this.getServletConfig();  Servleté…ç½®</span>
        <span class="token comment">//this.getServletContext(); Servletä¸Šä¸‹æ–‡</span>
        <span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">"shgxy"</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†ä¸€ä¸ªæ•°æ®ä¿å­˜åœ¨äº†ServLetContextä¸­,åå­—ä¸º: userName,å€¼userName</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>GetServlet.java</code></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"å§“åï¼š"</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>web.xml</code></p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>hell<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>com.shgxg.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>hell<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/hells<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>getC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>com.shgxg.servlet.GetServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>getC<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/getCon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>GetServlet.java</code> è·å– <code>HelloServlet.java</code> ä¸­çš„<code>username</code> çš„å…±äº«æ•°æ®ã€‚</p>
<h3 id="è·å–åˆå§‹åŒ–å‚æ•°"><a href="#è·å–åˆå§‹åŒ–å‚æ•°" class="headerlink" title="è·å–åˆå§‹åŒ–å‚æ•°"></a>è·å–åˆå§‹åŒ–å‚æ•°</h3><p><code>web.xml</code></p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--é…ç½®ä¸€äº›webåº”ç”¨çš„åˆå§‹åŒ–å‚æ•°--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>url<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>
            <span class="token comment">&lt;!-- æ¥å£:æ•°æ®åº“ç±»å‹://ä¸»æœºåï¼šç«¯å£å·/æ•°æ®åº“--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>jdbc:mysql://localhost:3306/mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>ServletDemo03.java</code> è·å– <code>web.xml</code>ä¸­é…ç½®çš„urlã€‚</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="è¯·æ±‚è½¬å‘"><a href="#è¯·æ±‚è½¬å‘" class="headerlink" title="è¯·æ±‚è½¬å‘"></a>è¯·æ±‚è½¬å‘</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">RequestDispatcher</span> dispatcher <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getNamedDispatcher</span><span class="token punctuation">(</span><span class="token string">"/gp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è½¬å‘çš„è¯·æ±‚è·¯å¾„</span>
dispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è°ƒç”¨forwardå®ç°è¯·æ±‚è½¬å‘</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="è¯»å–èµ„æºæ–‡ä»¶"><a href="#è¯»å–èµ„æºæ–‡ä»¶" class="headerlink" title="è¯»å–èµ„æºæ–‡ä»¶"></a>è¯»å–èµ„æºæ–‡ä»¶</h3><p>è¦æƒ³è¯»å–èµ„æºæ–‡ä»¶ï¼Œå°±è¦çŸ¥é“æ‰“åŒ…åèµ„æºæ–‡ä»¶çš„ä½ç½®ã€‚main/resourcesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåä¸º<code>db.properties</code>çš„æ–‡ä»¶ã€‚</p>
<pre class="line-numbers language-none"><code class="language-none">name&#x3D;root
password&#x3D;123123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>æ‰“åŒ…ä¹‹åå°†ä¼šä¿å­˜åˆ°WEB-INF/db.propertiesã€‚</p>
<p>å¦‚æœmain/javaè·¯å¾„ä¸‹æœ‰èµ„æºæ–‡ä»¶ï¼Œéœ€è¦åœ¨é¡¹ç›®çš„<code>pom.xml</code>æ–‡ä»¶ä¸­æ‰‹åŠ¨æ·»åŠ èµ„æºè·¯å¾„ï¼ˆé‡å¯IDEAåç”Ÿæ•ˆï¼‰ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token generics"><span class="token punctuation">&lt;</span>build<span class="token punctuation">></span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>resources<span class="token punctuation">></span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>resource<span class="token punctuation">></span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>directory<span class="token punctuation">></span></span>src<span class="token operator">/</span>main<span class="token operator">/</span>resources<span class="token operator">&lt;</span><span class="token operator">/</span>directory<span class="token operator">></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>includes<span class="token punctuation">></span></span>
                <span class="token generics"><span class="token punctuation">&lt;</span>include<span class="token punctuation">></span></span><span class="token operator">*</span><span class="token operator">*</span><span class="token comment">/*.properties&lt;/include>
                &lt;include>**/</span><span class="token operator">*</span><span class="token punctuation">.</span>xml<span class="token operator">&lt;</span><span class="token operator">/</span>include<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>includes<span class="token operator">></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>filtering<span class="token punctuation">></span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>filtering<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>resource<span class="token operator">></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>resource<span class="token punctuation">></span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>directory<span class="token punctuation">></span></span>src<span class="token operator">/</span>main<span class="token operator">/</span>java<span class="token operator">&lt;</span><span class="token operator">/</span>directory<span class="token operator">></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>includes<span class="token punctuation">></span></span>
                <span class="token generics"><span class="token punctuation">&lt;</span>include<span class="token punctuation">></span></span><span class="token operator">*</span><span class="token operator">*</span><span class="token comment">/*.properties&lt;/include>
                &lt;include>**/</span><span class="token operator">*</span><span class="token punctuation">.</span>xml<span class="token operator">&lt;</span><span class="token operator">/</span>include<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>includes<span class="token operator">></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>filtering<span class="token punctuation">></span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>filtering<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>resource<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>resources<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>build<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é…ç½®xmlï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>sd5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>com.shgxg.servlet.ServletDemo05<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>sd5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/sd5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¯»å–<code>db.properties</code>ä¸­çš„ä¿¡æ¯ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">InputStream</span> resourceAsStream <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"/WEB-INF/classes/db.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>resourceAsStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> password <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>username<span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<br/>

<h2 id="HttpServletResponse"><a href="#HttpServletResponse" class="headerlink" title="HttpServletResponse"></a><strong>HttpServletResponse</strong></h2><p>webæœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„httpè¯·æ±‚ï¼Œé’ˆå¯¹è¿™ä¸ªè¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªä»£è¡¨è¯·æ±‚çš„HttpServletRequestå¯¹è±¡ï¼Œä»£è¡¨å“åº”çš„ä¸€ä¸ªHttpServletResponseï¼›</p>
<ul>
<li><p>å¦‚æœè¦è·å–å®¢æˆ·ç«¯è¯·æ±‚è¿‡æ¥çš„å‚æ•°ï¼šæ‰¾HttpServletRequest</p>
</li>
<li><p>å¦‚æœè¦ç»™å®¢æˆ·ç«¯å“åº”ä¸€äº›ä¿¡æ¯ï¼šæ‰¾HttpServletResponse</p>
</li>
</ul>
<h3 id="ç®€å•åˆ†ç±»"><a href="#ç®€å•åˆ†ç±»" class="headerlink" title="ç®€å•åˆ†ç±»"></a>ç®€å•åˆ†ç±»</h3><p><strong>è´Ÿè´£å‘æµè§ˆå™¨å‘é€æ•°æ®çš„æ–¹æ³•</strong>ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">ServletOutputStream</span> <span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token class-name">PrintWriter</span> <span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><strong>è´Ÿè´£å‘æµè§ˆå™¨å‘é€å“åº”å¤´çš„æ–¹æ³•</strong>ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token class-name">String</span> charset<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setContentLength</span><span class="token punctuation">(</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setContentLengthLong</span><span class="token punctuation">(</span><span class="token keyword">long</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">long</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addDateHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">long</span> date<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setIntHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addIntHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="å¸¸è§åº”ç”¨"><a href="#å¸¸è§åº”ç”¨" class="headerlink" title="å¸¸è§åº”ç”¨"></a>å¸¸è§åº”ç”¨</h3><ul>
<li><p><strong>å¯¹æµè§ˆå™¨è¾“å‡ºæ¶ˆæ¯</strong></p>
</li>
<li><p><strong>ä¸‹è½½æ–‡ä»¶</strong></p>
<ul>
<li>è¦è·å–æ–‡ä»¶çš„è·¯å¾„ï¼›</li>
<li>ä¸‹è½½çš„æ–‡ä»¶åï¼›</li>
<li>æƒ³åŠæ³•è®©æµè§ˆå™¨æ”¯æŒä¸‹è½½æƒ³ä¸‹è½½çš„ä¸œè¥¿ï¼›</li>
<li>è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµï¼›</li>
<li>åˆ›å»ºç¼“å†²åŒºåŸŸï¼›</li>
<li>è·å–OutputStreamå¯¹è±¡ï¼›</li>
<li>å°†FileOutputStreamæµå†™å…¥åˆ°bufferç¼“å†²åŒºï¼›</li>
<li>ä½¿ç”¨OutputStreamå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯ï¼›</li>
</ul>
</li>
</ul>
<p>å®ä¾‹ï¼š</p>
<p><img src="./image-20210912010047675-16320528401141.png" alt="image-20210912010047675"></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
<span class="token comment">//        - è¦è·å–æ–‡ä»¶çš„è·¯å¾„ï¼›</span>
        <span class="token class-name">String</span> realPath <span class="token operator">=</span> <span class="token string">"D:\\Code\\javaCodeP\\javaweb-02-servlet\\response\\src\\main\\resources\\flower.png"</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶ä¸‹è½½è·¯å¾„ï¼š"</span><span class="token operator">+</span>realPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        - ä¸‹è½½çš„æ–‡ä»¶åï¼›</span>
        <span class="token class-name">String</span> fileName <span class="token operator">=</span> realPath<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>realPath<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"\\"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        - æƒ³åŠæ³•è®©æµè§ˆå™¨æ”¯æŒä¸‹è½½æƒ³ä¸‹è½½çš„ä¸œè¥¿ï¼›</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-disposition"</span><span class="token punctuation">,</span><span class="token string">"attachment;filename"</span><span class="token operator">+</span> <span class="token class-name">URLEncoder</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        - è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµï¼›</span>
        <span class="token class-name">FileInputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>realPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        - åˆ›å»ºç¼“å†²åŒºåŸŸï¼›</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//        - è·å–OutputStreamå¯¹è±¡ï¼›</span>
        <span class="token class-name">ServletOutputStream</span> out <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        - å°†FileOutputStreamæµå†™å…¥åˆ°bufferç¼“å†²åŒºï¼›ä½¿ç”¨OutputStreamå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯ï¼›</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len<span class="token operator">=</span>in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="éªŒè¯ç åŠŸèƒ½"><a href="#éªŒè¯ç åŠŸèƒ½" class="headerlink" title="éªŒè¯ç åŠŸèƒ½"></a>éªŒè¯ç åŠŸèƒ½</h3><p><img src="./image-20210911225436730.png" alt="image-20210911225436730"></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ImageServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//æµè§ˆå™¨3såˆ·æ–°ä¸€æ¬¡</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"refresh"</span><span class="token punctuation">,</span><span class="token string">"3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå›¾ç‰‡</span>
        <span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedImage</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token class-name">BufferedImage</span><span class="token punctuation">.</span>TYPE_INT_RGB<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å¾—åˆ°å›¾ç‰‡</span>
        <span class="token class-name">Graphics2D</span> g <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Graphics2D</span><span class="token punctuation">)</span>image<span class="token punctuation">.</span><span class="token function">getGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç”»ç¬”</span>
        g<span class="token punctuation">.</span><span class="token function">setBackground</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>pink<span class="token punctuation">)</span><span class="token punctuation">;</span>
        g<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//ç»™å›¾ç‰‡å†™æ•°æ®</span>
        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        g<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token class-name">Font</span><span class="token punctuation">.</span>BOLD<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        g<span class="token punctuation">.</span><span class="token function">drawString</span><span class="token punctuation">(</span><span class="token function">makeNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//å‘Šè¯‰æµè§ˆå™¨ï¼Œè¿™ä¸ªè¯·æ±‚ç”¨å›¾ç‰‡çš„æ–¹å¼æ‰“å¼€</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"image/jpeg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//ç½‘ç«™å­˜åœ¨ç¼“å­˜ï¼Œä¸è®©æµè§ˆå™¨ç¼“å­˜</span>
        resp<span class="token punctuation">.</span><span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token string">"expries"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Cache-Control"</span><span class="token punctuation">,</span><span class="token string">"no-cache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"program"</span><span class="token punctuation">,</span><span class="token string">"no-cache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//æŠŠå›¾ç‰‡å†™ç»™æµè§ˆå™¨</span>
        <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token string">"jpg"</span><span class="token punctuation">,</span>resp<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">//ç”Ÿæˆéšæœºæ•°</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">makeNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> num <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">999999</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token operator">-</span>num<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        num <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>num<span class="token punctuation">;</span>
        <span class="token keyword">return</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="å®ç°é‡å®šå‘"><a href="#å®ç°é‡å®šå‘" class="headerlink" title="å®ç°é‡å®šå‘"></a>å®ç°é‡å®šå‘</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token class-name">String</span> location<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>

resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">"/r/img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>





<br/>

<h2 id="HttpServletRequest"><a href="#HttpServletRequest" class="headerlink" title="HttpServletRequest"></a><strong>HttpServletRequest</strong></h2><p><img src="./image-20210917133816786.png" alt="image-20210917133816786"></p>
<h3 id="è·å–å‰ç«¯å‚æ•°ï¼Œå¹¶è¯·æ±‚è½¬å‘"><a href="#è·å–å‰ç«¯å‚æ•°ï¼Œå¹¶è¯·æ±‚è½¬å‘" class="headerlink" title="è·å–å‰ç«¯å‚æ•°ï¼Œå¹¶è¯·æ±‚è½¬å‘"></a>è·å–å‰ç«¯å‚æ•°ï¼Œå¹¶è¯·æ±‚è½¬å‘</h3><p>æ ¸å¿ƒæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//checkboxä¹‹ç±»çš„å¤šå€¼åœºæ™¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src="./image-20210917144731892.png" alt="image-20210917144731892"></p>
<p>ä»…æä¾›<code>index.jsp</code>ï¼Œsuccess.jspç•¥ã€‚</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%--
  Created by IntelliJ IDEA.
  User: Shgxy
  Date: 2021&#x2F;9&#x2F;17
  Time: 13:44
  To change this template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;æ­¤å¤„ç™»é™†&lt;&#x2F;title&gt;
&lt;&#x2F;head&gt;
&lt;body&gt;
&lt;h1&gt;ç™»å½•&lt;&#x2F;h1&gt;
&lt;div style&#x3D;&quot;text-align: center&quot;&gt;
&lt;%--è¡¨ç¤ºå½“å‰webé¡¹ç›®: $&#123;pageContext.request.contextPath&#125;--%&gt;
    &lt;form action&#x3D;&quot;$&#123;pageContext.request.contextPath&#125;&#x2F;login&quot; method&#x3D;&quot;post&quot;&gt;
    user:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;user&quot;&gt; &lt;br&gt;
    pswd:&lt;input type&#x3D;&quot;password&quot; name&#x3D;&quot;pswd&quot;&gt; &lt;br&gt;
    hobb:
    &lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;hobb&quot; value&#x3D;&quot;sing&quot;&gt;sing
    &lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;hobb&quot; value&#x3D;&quot;jump&quot;&gt;jump
    &lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;hobb&quot; value&#x3D;&quot;rap&quot;&gt;rap
    &lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;hobb&quot; value&#x3D;&quot;basketball&quot;&gt;basketball &lt;br&gt;

    &lt;input type&#x3D;&quot;submit&quot;&gt;
    &lt;&#x2F;form&gt;
&lt;&#x2F;div&gt;



&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>LoginServlet.java</code>ï¼ŒdoPostè°ƒç”¨doGetï¼Œå®ç°Postï¼Œæˆ–è€…ç›´æ¥å†™åœ¨doPosté‡Œã€‚</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> user <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> pswd <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"pswd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hobbs <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"hobb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user:"</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"pswd:"</span><span class="token operator">+</span>pswd<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>hobbs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//é€šè¿‡è¯·æ±‚è½¬å‘</span>
        req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/success.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-java" data-language="java"><code class="language-java">è¾“å‡º<span class="token operator">:</span>
<span class="token comment">//	user:admin</span>
<span class="token comment">//	pswd:123123</span>
<span class="token comment">//	[sing, jump, rap]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<br/>

<h1 id="Cookie-amp-Session"><a href="#Cookie-amp-Session" class="headerlink" title="Cookie &amp; Session"></a>Cookie &amp; Session</h1><blockquote>
<p>é”™è¯¯:java: é”™è¯¯: ä¸æ”¯æŒå‘è¡Œç‰ˆæœ¬ 5</p>
</blockquote>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<p><img src="./image-20210918225558933.png" alt="image-20210918225558933"></p>
<p><img src="./image-20210918225636691.png" alt="image-20210918225636691"></p>
<p><img src="./image-20210918225741539.png" alt="image-20210918225741539"></p>
<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><ul>
<li>å¤§å°æœ‰é™åˆ¶ï¼š4kb</li>
<li>300ä¸ªcookieæµè§ˆå™¨ä¸Šé™</li>
<li>ä¸€ä¸ªwebç«™ç‚¹æœ€å¤š20ä¸ª</li>
<li>ä¸è®¾ç½®æœ‰æ•ˆæœŸï¼ˆæˆ–è®¾ç½®ä¸º0ï¼‰ï¼Œå…³é—­æµè§ˆå™¨ï¼Œè‡ªåŠ¨å¤±æ•ˆ</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–Cookieåˆ—è¡¨</span>
<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//è·å–cookieçš„key</span>
<span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//è·å–cookieçš„value</span>

<span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"lastLoginTime"</span><span class="token punctuation">,</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ–°å»ºcookie</span>
cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®æœ‰æ•ˆæœŸï¼Œå•ä½æ˜¯s</span>
resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å“åº”ç»™å®¢æˆ·ç«¯ä¸€ä¸ªcookie</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>CookieDemo1.java</code></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//ä¿å­˜ç”¨æˆ·ä¸Šä¸€æ¬¡è®¿é—®çš„æ—¶é—´</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CookieDemo1</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//è§£å†³ä¸­æ–‡ä¹±ç </span>
        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-16"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-16"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å“åº”çš„è¾“å‡ºå¯¹è±¡ï¼Œä¸€å®šæ˜¯ç”±respæ¥åš</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Cookie,æœåŠ¡å™¨ä»å®¢æˆ·ç«¯è·å–</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//åˆ¤æ–­Cookieæ˜¯å¦å­˜åœ¨</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cookies<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token comment">//å¦‚æœå­˜åœ¨æ€ä¹ˆåŠ</span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"ä¸Šä¸€æ¬¡çš„è®¿é—®æ—¶é—´ä¸º:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cookies<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Cookie</span> cookie <span class="token operator">=</span> cookies<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token comment">//è·å–cookieçš„åå­—</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"lastLoginTime"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    <span class="token comment">//è·å–cookieçš„å€¼</span>
                    <span class="token keyword">long</span> lastLoginTime <span class="token operator">=</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>lastLoginTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>

            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"é¦–æ¬¡è®¿é—®æœ¬ç«™ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">//æœåŠ¡å™¨ç»™å®¢æˆ·ç«¯å“åº”ä¸€ä¸ªCookie:</span>
        <span class="token class-name">Cookie</span> firstCookie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"lastLoginTime"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token operator">+</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è®¾ç½®cookieçš„æœ‰æ•ˆæœŸ</span>
        firstCookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>firstCookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<p>è§£å†³ä¸­æ–‡ä¼ è¾“ä¹±ç ï¼š</p>
<p><img src="./image-20210918234027161.png" alt="image-20210918234027161"></p>
<h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><blockquote>
<p>æœåŠ¡å™¨ç»™æ¯ä¸€ä¸ªæµè§ˆå™¨åˆ›å»ºä¸€ä¸ªSessionå¯¹è±¡ï¼›</p>
<p>ä¸€ä¸ªSessionç‹¬å ä¸€ä¸ªæµè§ˆå™¨ã€‚</p>
</blockquote>
<p>æ ¸å¿ƒæ“ä½œï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//è·å–Session</span>
session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"admin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//å°†Objectæ·»åŠ åˆ°Session</span>
<span class="token class-name">Person</span> name <span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¯»å–</span>
<span class="token class-name">String</span> id <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			 <span class="token comment">//SessionIDç”±æœåŠ¡å™¨åˆ›å»º</span>
req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç§»é™¤sessionä¸­çš„æŸé¡¹å±æ€§</span>
req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			 <span class="token comment">//ç”¨äºæ¸…é™¤sessionçš„æ‰€æœ‰ä¿¡æ¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Sessionå¯ä»¥åœ¨<code>web.xml</code>ä¸­é…ç½®è‡ªåŠ¨è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºåˆ†é’Ÿï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-config</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-timeout</span><span class="token punctuation">></span></span>15<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-timeout</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-config</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<br>

<h1 id="JSPï¼ˆJava-Server-Pagesï¼‰"><a href="#JSPï¼ˆJava-Server-Pagesï¼‰" class="headerlink" title="JSPï¼ˆJava Server Pagesï¼‰"></a><strong>JSPï¼ˆJava Server Pagesï¼‰</strong></h1><blockquote>
<p>Java Server Pagesï¼šJavaæœåŠ¡å™¨ç«¯é¡µé¢ï¼Œä¹Ÿå’ŒServletä¸€æ ·ï¼Œç”¨äºåŠ¨æ€WedæŠ€æœ¯ã€‚</p>
<p>ç›¸æ¯”äºåŸå§‹Servletçš„resp.getWriter().write()ä¸€è¡Œè¡Œå†™æ ‡ç­¾ï¼ŒJSPå†™èµ·æ¥å’ŒHTMLä¸€æ ·æµç•…ã€‚</p>
</blockquote>
<h2 id="JSPæºç "><a href="#JSPæºç " class="headerlink" title="JSPæºç "></a>JSPæºç </h2><p>åœ°å€ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Shgxy<span class="token punctuation">\</span>.IntelliJIdea2019.3<span class="token punctuation">\</span>system<span class="token punctuation">\</span>tomcat<span class="token punctuation">\</span>Unnamed_session-cookie<span class="token punctuation">\</span>work<span class="token punctuation">\</span>Catalina<span class="token punctuation">\</span>localhost<span class="token punctuation">\</span>c<span class="token punctuation">\</span>org<span class="token punctuation">\</span>apache<span class="token punctuation">\</span>jsp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>ç›®å½•ç»“æ„ï¼š</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">C:.
â””â”€Catalina
    â””â”€localhost
        â”œâ”€c
        â”‚  â””â”€org
        â”‚      â””â”€apache
        â”‚          â””â”€jsp<span class="token punctuation">(</span>åœ¨è¿™é‡Œ<span class="token punctuation">)</span>
        â””â”€manager<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¯¥jspç›®å½•ä¸‹ï¼Œæœ‰javaå’Œclassä¸¤ä¸ªæ–‡ä»¶ï¼Œjavaä¸­å®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œä¸”ç»§æ‰¿äº†HttpJspBaseï¼š</p>
<p><img src="./image-20210919173341844.png" alt="image-20210919173341844"></p>
<p>HttpJspBaseéœ€è¦åœ¨pomä¸­æ·»åŠ jasper-runtimeä¾èµ–ï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>tomcat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jasper-runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.5.23<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> index_jsp <span class="token keyword">extends</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>jasper<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span></span>HttpJspBase</span>
    <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>jasper<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span></span>JspSourceDependent</span><span class="token punctuation">,</span>
                 <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>jasper<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span></span>JspSourceImports</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>JSPæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªServletï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// åˆå§‹åŒ–</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">_jspInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token comment">// é”€æ¯</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">_jspDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token comment">// JSP Service</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">_jspService</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å†…ç½®ä¸€äº›å¯¹è±¡ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">final</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>jsp<span class="token punctuation">.</span></span>PageContext</span> pageContext<span class="token punctuation">;</span><span class="token comment">//é¡µé¢ä¸Šä¸‹æ–‡</span>
<span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpSession</span> session <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>	<span class="token comment">//session</span>
<span class="token keyword">final</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ServletContext</span> application<span class="token punctuation">;</span>applicationContext
<span class="token keyword">final</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ServletConfig</span> config<span class="token punctuation">;</span>		<span class="token comment">//config</span>
<span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>jsp<span class="token punctuation">.</span></span>JspWriter</span> out <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>			<span class="token comment">//out</span>
<span class="token keyword">final</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Object</span> page <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>				<span class="token comment">//pageï¼šå½“å‰é¡µ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡ºé¡µé¢å‰å¢åŠ çš„ä»£ç ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pageContext <span class="token operator">=</span> _jspxFactory<span class="token punctuation">.</span><span class="token function">getPageContext</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span>
<span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">8192</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
_jspx_page_context <span class="token operator">=</span> pageContext<span class="token punctuation">;</span>
application <span class="token operator">=</span> pageContext<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
config <span class="token operator">=</span> pageContext<span class="token punctuation">.</span><span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
session <span class="token operator">=</span> pageContext<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out <span class="token operator">=</span> pageContext<span class="token punctuation">.</span><span class="token function">getOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
_jspx_out <span class="token operator">=</span> out<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å…³ç³»ç»“æ„å¦‚ä¸‹ï¼Œå…¶ä¸­æ©˜è‰²èƒŒæ™¯ä¸ºfinalä¿®é¥°çš„é‡ï¼š</p>
<img src="./image-20210802131132288-16320698527705.png" alt="image-20210802131132288" style="zoom:150%;" />





<p><img src="./image-20210919181352551.png" alt="image-20210919181352551"></p>
<h2 id="JSPåŸºç¡€è¯­æ³•"><a href="#JSPåŸºç¡€è¯­æ³•" class="headerlink" title="JSPåŸºç¡€è¯­æ³•"></a>JSPåŸºç¡€è¯­æ³•</h2><div class="success">

<blockquote>
<p>æ¬è¿è‡ªï¼š<a target="_blank" rel="noopener" href="https://jazzylee.github.io/2021/07/30/javaweb/">jazzylee-javaWeb</a></p>
</blockquote>
</div>

<p>å‰é¢çš„é¡¹ç›®éƒ½æ˜¯ç›´æ¥æ ¹æ®æ¨¡æ¿æ–°å»ºwebappçš„ï¼Œä½†æ˜¯éœ€è¦è‡ªè¡Œæ·»åŠ javaå’Œresourceç›®å½•ã€‚</p>
<p>å¦å¤–ä¸€ç§æ–°å»ºé¡¹ç›®çš„æ–¹æ³•æ˜¯æ–°å»ºç©ºé¡¹ç›®ï¼Œåœ¨é¡¹ç›®åå¤„å³å‡»ï¼Œæ·»åŠ æ¡†æ¶æ”¯æŒï¼Œé€‰æ‹©Web Applicationã€‚è¿™ç§æ–¹å¼ä¸‹ï¼Œwebç›®å½•ä¸å†ä½äºsrcä¸‹ï¼Œè€Œæ˜¯ä¸srcåŒçº§ï¼›ä¸”web.xmlä¸­çš„versionæ˜¯æ–°ç‰ˆçš„ã€‚</p>
<h3 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h3><p><code>pom.xml</code></p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--        Servletä¾èµ–--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--        JSPä¾èµ–--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javax.servlet.jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--        JSTLè¡¨è¾¾å¼çš„ä¾èµ–--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp.jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jstl-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--        standardæ ‡ç­¾åº“--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>taglibs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>standard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%--JSPæ³¨é‡Š,ä¸ä¼šä¿ç•™åœ¨å‰ç«¯é¡µé¢--%&gt;
&lt;!--HTMLæ³¨é‡Š--&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="Javaè¯­å¥"><a href="#Javaè¯­å¥" class="headerlink" title="Javaè¯­å¥"></a>Javaè¯­å¥</h3><p>åˆ†ä¸ºå•è¡Œå’Œå¤šè¡Œä¸¤ç§ï¼Œå•è¡Œçš„ç”¨äºè¡¨è¾¾å¼è¾“å‡ºä¸€ä¸ªå€¼</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%--å•è¡Œ--%&gt;
&lt;%&#x3D;new java.util.Date()%&gt;
&lt;hr&gt;
&lt;%--å¤šè¡Œ--%&gt;
&lt;%
int sum &#x3D; 0;
for (int j &#x3D; 0; j &lt; 10; j++) &#123;
    sum+&#x3D;j;
&#125;
&lt;%--è¿˜å¯ä»¥ä½¿ç”¨&lt;%&#x3D;sum%&gt;è¾“å‡º--%&gt;
out.println(sum);
%&gt;
&lt;&#x2F;body&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>workç›®å½•ä¸‹çš„javaä¸­ï¼Œä¸Šé¢çš„jspå¯¹åº”äº_jspServiceä¸­çš„å¦‚ä¸‹éƒ¨åˆ†ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;html>\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"  &lt;head>\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"    &lt;title>$Title$&lt;/title>\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"  &lt;/head>\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"  &lt;body>\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;hr>\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"  "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  sum<span class="token operator">+=</span>j<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"  &lt;/body>\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;/html>\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‰ç«¯æºç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>$Title$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  Mon Aug 02 15:13:03 CST 2021
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">></span></span>
  45
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="JSPå£°æ˜"><a href="#JSPå£°æ˜" class="headerlink" title="JSPå£°æ˜"></a>JSPå£°æ˜</h3><p>å¦‚æœè¦å°†javaè¯­å¥å—ç”Ÿæˆåœ¨_jspServiceä¹‹å¤–ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%!
  public void test()&#123;
    System.out.println(&quot;å½“å‰åœ¨testä¸­&quot;);
  &#125;
%&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>åœ¨workç›®å½•ä¸‹çš„javaä¸­ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¢«ç¼–è¯‘åˆ°index_jspç±»ä¸‹ã€‚</p>
</blockquote>
<p>å¦‚æœè¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œéœ€è¦åœ¨jspä¸­ä»¥è¯­å¥å—çš„å½¢å¼è°ƒç”¨ï¼š</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%
test();
%&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>è¿™æ ·ï¼Œæ¯æ¬¡è®¿é—®jspé¡µé¢æ—¶ï¼ŒIDEAéƒ½ä¼šæ‰“å°å‰åœ¨testä¸­ã€‚</p>
<h3 id="DIYé”™è¯¯é¡µé¢"><a href="#DIYé”™è¯¯é¡µé¢" class="headerlink" title="DIYé”™è¯¯é¡µé¢"></a>DIYé”™è¯¯é¡µé¢</h3><p>å½“JSPä¸­åµŒå…¥çš„Javaæœ‰å¼‚å¸¸æ—¶ï¼Œä¼šå‡ºç°500é”™è¯¯ï¼Œå¯ä»¥åœ¨JSPå¼€å¤´è‡ªå®šä¹‰é”™è¯¯é¡µé¢:</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page errorPage&#x3D;&quot;.&#x2F;500.jsp&quot; %&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>å‡ºç°é”™è¯¯æ—¶ï¼Œå°†å±•ç¤º500.jspçš„å†…å®¹ï¼ŒæŠ“åŒ…å‘ç°ä¸¤æ¬¡è¯·æ±‚çš„çŠ¶æ€ç <strong>éƒ½æ˜¯200</strong>ã€‚</p>
<hr>
<p>é”™è¯¯é¡µé¢çš„è·³è½¬ä¹Ÿå¯ä»¥åœ¨web.xmlä¸­è¿›è¡Œé…ç½®ï¼Œlocationæ˜¯ä»é¡¹ç›®æ ¹ç›®å½•ç®—èµ·çš„ç›®å½•ã€‚</p>
<p>ä¸¤æ¬¡è¯·æ±‚çš„çŠ¶æ€ç åˆ†åˆ«æ˜¯<strong>500å’Œ200</strong></p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-page</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-code</span><span class="token punctuation">></span></span>500<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-code</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span><span class="token punctuation">></span></span>/500.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-page</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<hr>
<p>web.xmlä¸­å¯è®¾ç½®çš„æ›´å¤šï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-page</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-code</span><span class="token punctuation">></span></span>500<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-code</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span><span class="token punctuation">></span></span>/500.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-page</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-page</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-code</span><span class="token punctuation">></span></span>404<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-code</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span><span class="token punctuation">></span></span>/404.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-page</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="åŒ…å«HTMLå…¬å…±é¡µé¢"><a href="#åŒ…å«HTMLå…¬å…±é¡µé¢" class="headerlink" title="åŒ…å«HTMLå…¬å…±é¡µé¢"></a>åŒ…å«HTMLå…¬å…±é¡µé¢</h3><p>å¯ä»¥ä½¿ç”¨<code>&lt;%@include file=&quot;xxx&quot;%&gt;</code>çš„æ–¹å¼åŒ…å«é¡µé¢</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;body&gt;
&lt;%@include file&#x3D;&quot;common&#x2F;header.jsp&quot;%&gt;
&lt;h1&gt;Content-1&lt;&#x2F;h1&gt;
&lt;%@include file&#x3D;&quot;common&#x2F;footer.jsp&quot;%&gt;
&lt;&#x2F;body&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨è¿™ç§æ–¹å¼includeçš„é¡µé¢æ˜¯ç›´æ¥å°†è¢«å¼•ç”¨çš„é¡µé¢åŸå°ä¸åŠ¨åœ°æ”¾åˆ°äº†htmlä¸­ã€‚ç”Ÿæˆçš„javaå¦‚ä¸‹</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;html>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;head>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"    &lt;title>Title&lt;/title>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;/head>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;body>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;h1>Header&lt;/h1>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;/body>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;/html>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;h1>Content-1&lt;/h1>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;html>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;head>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"    &lt;title>Title&lt;/title>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;/head>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;body>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;h1>Footer&lt;/h1>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;/body>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;/html>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<hr>
<p>å¦ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨jspæ ‡ç­¾ï¼š</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;jsp:include page&#x3D;&quot;&#x2F;common&#x2F;header.jsp&quot;&#x2F;&gt;
&lt;h1&gt;Content-2&lt;&#x2F;h1&gt;
&lt;jsp:include page&#x3D;&quot;&#x2F;common&#x2F;footer.jsp&quot;&#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨è¿™ç§æ–¹æ³•æ˜¯ç‹¬ç«‹åœ°å¼•å…¥äº†ä¸¤ä¸ªé¡µé¢ï¼Œjavaå¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>jasper<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span></span>JspRuntimeLibrary</span><span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token string">"/common/header.jsp"</span><span class="token punctuation">,</span> out<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"&lt;h1>Content-2&lt;/h1>\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>jasper<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span></span>JspRuntimeLibrary</span><span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token string">"/common/footer.jsp"</span><span class="token punctuation">,</span> out<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<hr>
<p>ğŸ”´åè€…ç›¸å¯¹ç‹¬ç«‹ (<strong>å¤šä¸ªé¡µé¢ä¹‹é—´çš„å˜é‡ä¸å†²çª</strong>) ï¼Œæ›´åŠ å¸¸ç”¨ã€‚</p>
<h2 id="JSPä¹å¤§å†…ç½®å¯¹è±¡"><a href="#JSPä¹å¤§å†…ç½®å¯¹è±¡" class="headerlink" title="JSPä¹å¤§å†…ç½®å¯¹è±¡"></a><strong>JSPä¹å¤§å†…ç½®å¯¹è±¡</strong></h2><p>ä¹å¤§å¯¹è±¡æ˜¯æŒ‡ï¼š</p>
<table>
<thead>
<tr>
<th align="center">åç§°</th>
<th align="center">å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td align="center">pageContext</td>
<td align="center">å­˜ä¸œè¥¿</td>
</tr>
<tr>
<td align="center">request</td>
<td align="center">å­˜ä¸œè¥¿</td>
</tr>
<tr>
<td align="center">response</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">session</td>
<td align="center">å­˜ä¸œè¥¿</td>
</tr>
<tr>
<td align="center">application</td>
<td align="center">å­˜ä¸œè¥¿(ServletContext)</td>
</tr>
<tr>
<td align="center">config</td>
<td align="center">ï¼ˆServletConfigï¼‰</td>
</tr>
<tr>
<td align="center">page</td>
<td align="center">å‡ ä¹ä¸ç”¨</td>
</tr>
<tr>
<td align="center">out</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">exception</td>
<td align="center"></td>
</tr>
</tbody></table>
<p>éƒ¨åˆ†å…³ç³»å†æ¬¡å±•ç¤ºå¦‚ä¸‹ï¼Œæ©˜è‰²è¡¨ç¤ºè¢«finalä¿®é¥°ï¼š</p>
<img src="./image-20210802131132288-16320698287493.png" alt="image-20210802131132288" style="zoom:150%;" />

<p>èƒ½å­˜æ”¾æ•°æ®çš„å››ä¸ªæ˜¯é‡ç‚¹</p>
<hr>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%
    pageContext.setAttribute(&quot;from&quot;,&quot;pageContext&quot;); &#x2F;&#x2F;ä¿å­˜çš„æ•°æ®åªæ˜¯åœ¨ä¸€ä¸ªé¡µé¢ä¸­æœ‰æ•ˆ
    request.setAttribute(&quot;from&quot;,&quot;request&quot;);			&#x2F;&#x2F;ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­æœ‰æ•ˆï¼Œè¯·æ±‚è½¬å‘ä¼šæºå¸¦è¿™ä¸ªæ•°æ®
	session.setAttribute(&quot;from&quot;,&quot;session&quot;);			&#x2F;&#x2F;ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡ä¼šè¯ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æµè§ˆå™¨åˆ°å…³é—­æµè§ˆå™¨
    application.setAttribute(&quot;from&quot;,&quot;application&quot;);	&#x2F;&#x2F;ä¿å­˜çš„æ•°æ®åªåœ¨æœåŠ¡å™¨ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æœåŠ¡å™¨åˆ°å…³é—­æœåŠ¡å™¨
%&gt;
&lt;%
&#x2F;&#x2F;    out.println(pageContext.getAttribute(&quot;from&quot;));
&#x2F;&#x2F;    out.println(request.getAttribute(&quot;from&quot;));
&#x2F;&#x2F;    out.println(session.getAttribute(&quot;from&quot;));
&#x2F;&#x2F;    out.println(application.getAttribute(&quot;from&quot;));
    String from &#x3D; (String) pageContext.findAttribute(&quot;from&quot;);
    out.println(from);
%&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨<code>setAttribute</code>æ–¹æ³•å¯ä»¥è®¾ç½®å±æ€§ï¼Œä½¿ç”¨<code>getAttribute</code>å¯ä»¥å¯¹åº”å–å‡ºã€‚</p>
<p>å¦å¤–ä¸€ç§å–å‡ºå±æ€§çš„æ–¹å¼æ˜¯ä½¿ç”¨<code>pageContext</code>çš„<code>findAttribute</code>æ–¹æ³•ã€‚</p>
<p>å¯¹äºä¸Šé¢è¿™ç§å››å¤„åŒåçš„å‚æ•°ï¼Œä½¿ç”¨<code>pageContext.findAttribute</code>æ–¹æ³•å–å‡ºçš„æ˜¯<code>pageContext</code>ï¼Œå› ä¸ºå››ç§å­˜æ•°æ®æ–¹å¼æœ‰scopeä¸Šçš„åŒºåˆ«ï¼Œä½œç”¨åŸŸä»å°åˆ°å¤§ä¾æ¬¡æ˜¯ <strong>pageContext &lt; request &lt; session &lt; application</strong>ã€‚</p>
<p><strong>å¾€ä¸Šå¯»æ‰¾ï¼Œå¾€ä¸‹ä½¿ç”¨ã€‚</strong></p>
<p><img src="./image-20210920004511538.png" alt="image-20210920004511538"></p>
<p><code>pageContext</code>ä¹Ÿæœ‰<code>setAttribute</code>æ–¹æ³•ï¼Œ</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Object</span> attribute<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mPage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> attribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Object</span> attribute<span class="token punctuation">,</span> <span class="token keyword">int</span> scope<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>scope<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>mPage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> attribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>mRequest<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> attribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>mSession<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> attribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>mApp<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> attribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"Bad scope "</span> <span class="token operator">+</span> scope<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å››ç§ä½œç”¨åŸŸæ€»ç»“å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>ä½œç”¨åŸŸ</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>åªåœ¨ä¸€ä¸ªé¡µé¢ä¸­æœ‰æ•ˆ</td>
</tr>
<tr>
<td>request</td>
<td>åœ¨ä¸€æ¬¡è¯·æ±‚ä¸­(å«è¯·æ±‚è½¬å‘)æœ‰æ•ˆ</td>
</tr>
<tr>
<td>session</td>
<td>åœ¨ä¸€æ¬¡ä¼šè¯ä¸­æœ‰æ•ˆ</td>
</tr>
<tr>
<td>application</td>
<td>ä»æ‰“å¼€æœåŠ¡å™¨åˆ°å…³é—­æœåŠ¡å™¨éƒ½æœ‰æ•ˆ</td>
</tr>
</tbody></table>
<h2 id="JSP-JSTL-EL"><a href="#JSP-JSTL-EL" class="headerlink" title="JSP/JSTL/EL"></a><strong>JSP/JSTL/EL</strong></h2><p>å¯¼åŒ…</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--JSTLè¡¨è¾¾å¼ä¾èµ–--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp.jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jstl-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--æ ‡ç­¾åº“--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>taglibs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>standard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Expression-Language"><a href="#Expression-Language" class="headerlink" title="Expression Language"></a>Expression Language</h3><h4 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h4><ul>
<li>è·å–æ•°æ®</li>
<li>æ‰§è¡Œè¿ç®—</li>
<li>è·å–webå¼€å‘å¸¸ç”¨å¯¹è±¡</li>
</ul>
<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java">$<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h3><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%--1.includeé¡µé¢--%&gt;
&lt;jsp:include page&#x3D;&quot;&#x2F;common&#x2F;header.jsp&quot;&#x2F;&gt;
&lt;%--2.é¡µé¢è½¬å‘(ä¸æ˜¯é‡å®šå‘)--%&gt;
&lt;jsp:forward page&#x3D;&quot;.&#x2F;include.jsp&quot;&#x2F;&gt;
&lt;%--è½¬å‘æ—¶å€™è¿˜å¯ä»¥ä¼ å‚æ•°--%&gt;
&lt;jsp:forward page&#x3D;&quot;.&#x2F;include.jsp&quot;&gt;
    &lt;jsp:param name&#x3D;&quot;name&quot; value&#x3D;&quot;name&quot;&#x2F;&gt;
    &lt;jsp:param name&#x3D;&quot;age&quot; value&#x3D;&quot;18&quot;&#x2F;&gt;
&lt;&#x2F;jsp:forward&gt;
&lt;%--å–å‚æ•°æ–¹æ³•å¦‚ä¸‹--&gt;
&lt;%&#x3D;request.getParameter(&quot;name&quot;)%&gt;
&lt;%&#x3D;request.getParameter(&quot;age&quot;)%&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="JSTL-Java-server-pages-Standard-Tag-Library"><a href="#JSTL-Java-server-pages-Standard-Tag-Library" class="headerlink" title="JSTL(Java server pages Standard Tag Library)"></a>JSTL(<strong>Java server</strong> pages Standard Tag Library)</h3><p>JSTPæä¾›äº†è®¸å¤šæ ‡ç­¾ï¼Œæ ‡ç­¾çš„ä½œç”¨åŒJavaä»£ç ã€‚</p>
<h4 id="ä¸å¸¸ç”¨"><a href="#ä¸å¸¸ç”¨" class="headerlink" title="ä¸å¸¸ç”¨"></a>ä¸å¸¸ç”¨</h4><ul>
<li>æ ¼å¼åŒ–æ ‡ç­¾</li>
<li>SQLæ ‡ç­¾</li>
<li>XMLæ ‡ç­¾</li>
</ul>
<h4 id="æ ¸å¿ƒæ ‡ç­¾â­"><a href="#æ ¸å¿ƒæ ‡ç­¾â­" class="headerlink" title="æ ¸å¿ƒæ ‡ç­¾â­"></a>æ ¸å¿ƒæ ‡ç­¾â­</h4><h5 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h5><ul>
<li><p>pom.xml</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.0.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javax.servlet.jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp.jstl/jstl-api --></span>
<span class="token comment">&lt;!--        JSTLè¡¨è¾¾å¼ä¾èµ–--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp.jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jstl-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/taglibs/standard --></span>
<span class="token comment">&lt;!--        æ ‡ç­¾åº“--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>taglibs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>standard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>æ ¸å¿ƒæ ‡ç­¾æ˜¯æœ€å¸¸ç”¨çš„JSTLæ ‡ç­¾ã€‚JSPä¸­å¼•ç”¨æ ¸å¿ƒæ ‡ç­¾åº“çš„è¯­æ³•å¦‚ä¸‹</p>
<pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ taglib prefix&#x3D;&quot;c&quot; uri&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;jsp&#x2F;jstl&#x2F;core&quot; %&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>å¦å¤–ï¼Œè¦å°†jstl-apiå’Œtaglibä¸¤ä¸ªjsråŒ…æ”¾åˆ°Tomcatçš„libè·¯å¾„ä¸‹</p>
</li>
</ul>
<h5 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a><a target="_blank" rel="noopener" href="https://www.w3cschool.cn/jsp/jsp-jstl.html">ä½¿ç”¨</a></h5><h1 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a><strong>JavaBean</strong></h1><p>å®ä½“ç±»</p>
<p>JavaBeanå…·æœ‰ç‰¹å®šçš„å†™æ³•ï¼š</p>
<ul>
<li>å¿…é¡»è¦æœ‰ä¸€ä¸ªæ— å‚æ„é€ ï¼›</li>
<li>å±æ€§å¿…é¡»ç§æœ‰åŒ–ï¼›</li>
<li>å¿…é¡»æœ‰å¯¹åº”çš„ get/set æ–¹æ³•ï¼›</li>
</ul>
<h1 id="MVCä¸‰å±‚æ¶æ„"><a href="#MVCä¸‰å±‚æ¶æ„" class="headerlink" title="MVCä¸‰å±‚æ¶æ„"></a><strong>MVCä¸‰å±‚æ¶æ„</strong></h1><ul>
<li>Model<ul>
<li>ä¸šåŠ¡å¤„ç†</li>
<li>æ•°æ®æŒä¹…åŒ–</li>
</ul>
</li>
<li>View<ul>
<li>å±•ç¤ºæ•°æ®</li>
<li>å‘èµ·Servletè¯·æ±‚</li>
</ul>
</li>
<li>Controller<ul>
<li>æ¥æ”¶è¯·æ±‚</li>
<li>æ§åˆ¶è§†å›¾è·³è½¬</li>
<li>è°ƒç”¨ä¸šåŠ¡å¤„ç†</li>
</ul>
</li>
</ul>
<p><img src="./image-20210924163159751.png" alt="image-20210924163159751"></p>
<h1 id="ğŸ”´Filter"><a href="#ğŸ”´Filter" class="headerlink" title="ğŸ”´Filter"></a>ğŸ”´<strong>Filter</strong></h1><p>è¿‡æ»¤å™¨ï¼Œç”¨æ¥è¿‡æ»¤ç½‘ç«™çš„æ•°æ®ï¼š</p>
<ul>
<li>å¤„ç†ä¸­æ–‡ä¹±ç </li>
</ul>
<p>ğŸ”´implementsé€‰æ‹©ä¸‹å›¾çš„<strong>Filter</strong>ï¼Œå¯¼åŒ…åˆ«å¯¼é”™ã€‚</p>
<p><img src="./image-20210924171112679.png" alt="image-20210924171112679"></p>
<p>ä»¥è®¾ç½®UTF-8ç¼–ç ä¸ºä¾‹ï¼Œé¦–å…ˆä¿®æ”¹ç¼–ç ï¼Œç„¶åchainæ”¾è¡Œ</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CharacterEncodingFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//åˆå§‹åŒ–ï¼šwebæœåŠ¡å™¨å¯åŠ¨ï¼Œå°±å¯ä»¥åˆå§‹åŒ–äº†ï¼Œéšæ—¶ç­‰å¾…è¿‡æ»¤å¯¹è±¡å‡ºç°ï¼</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"âœ“-CharacterEncodingFilteræ­£åœ¨åˆå§‹åŒ–~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">&#123;</span>
        servletRequest<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        servletResponse<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        servletResponse<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"O-CharacterEncodingFilteræ‰§è¡Œå‰~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è®©è¯·æ±‚ç»§ç»­èµ°ï¼Œå¦‚æœfilterChainä¸æ”¾è¡Œ,åˆ™ç¨‹åºå¡åœ¨è¿™é‡Œ</span>
        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span>servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"C-CharacterEncodingFilteræ‰§è¡Œå~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"X-CharacterEncodingFilterå·²é”€æ¯ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>web.xml</code>ä¸­é…ç½®ï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">></span></span>com.shgxy.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--    åªè¦æ˜¯/servletä¸‹çš„ä»»ä½•è¯·æ±‚éƒ½ä¼šç»è¿‡è¿™ä¸ªè¿‡æ»¤å™¨--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/servlet/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="ç›‘å¬å™¨"><a href="#ç›‘å¬å™¨" class="headerlink" title="ç›‘å¬å™¨"></a><strong>ç›‘å¬å™¨</strong></h1><h2 id="sessionç›‘å¬"><a href="#sessionç›‘å¬" class="headerlink" title="sessionç›‘å¬"></a>sessionç›‘å¬</h2><p>å®ç°æ¥å£ï¼š</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionEvent</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionListener</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListenerDemo</span> <span class="token keyword">implements</span> <span class="token class-name">HttpSessionListener</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sessionCreated</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionEvent</span> httpSessionEvent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> httpSessionEvent<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span> onlineNum <span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"num"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>onlineNum<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            onlineNum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            onlineNum <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"num"</span><span class="token punctuation">,</span>onlineNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sessionDestroyed</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionEvent</span> httpSessionEvent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> httpSessionEvent<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span> onlineNum <span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"num"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>onlineNum<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            onlineNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            onlineNum <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"num"</span><span class="token punctuation">,</span>onlineNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é…ç½®ç›‘å¬<code> web.xml</code></p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">></span></span>ListenerDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>å‰ç«¯å±•ç¤ºï¼š</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>åœ¨çº¿äººæ•°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color: blue<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    &lt;%=this.getServletConfig().getServletContext().getAttribute("num")%>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><img src="./image-20210929215701836.png" alt="image-20210929215701836"></p>
<p>è¿‡æ»¤å™¨æƒé™éªŒè¯ï¼š</p>
<p><img src="./image-20210929215738958.png" alt="image-20210929215738958"></p>
<p><img src="./image-20210929225321921.png" alt="image-20210929225321921"></p>
<h1 id="SMBMS"><a href="#SMBMS" class="headerlink" title="SMBMS"></a><strong>SMBMS</strong></h1></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>ifDo7</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://shgxy.github.io.git/2021/08/31/JavaWeb/" title="JavaWeb">https://shgxy.github.io.git/2021/08/31/JavaWeb/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul><script>document.addEventListener('copy', function (event) {
  const clipboardData = event.clipboardData || window.clipboardData;
  if (!clipboardData) { return; }
  const text = window.getSelection().toString();
  if (text) {
    event.preventDefault();
    clipboardData.setData('text/plain', text + '\n\næœ¬æ–‡ä½œè€…ï¼šifDo7\næœ¬æ–‡é“¾æ¥ï¼šhttps://shgxy.github.io.git/2021/08/31/JavaWeb/\nç‰ˆæƒå£°æ˜ï¼šæœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ CC BY-NC-SA 4.0 è®¸å¯åè®®ã€‚');
  }
});</script></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/10/11/SpringBoot/" rel="prev" title="SpringBoot"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">SpringBoot</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/08/26/Cryptology/" rel="next" title="Cryptology"><span class="post-nav-text">Cryptology</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>å¦‚æœæ‚¨æœ‰ä»»ä½•å…³äºåšå®¢å†…å®¹çš„ç›¸å…³è®¨è®ºï¼Œæ¬¢è¿å‰å¾€ <a href="https://github.com/Shgxy/Shgxy.github.io/discussions" target="_blank">GitHub Discussions</a> ä¸æˆ‘äº¤æµã€‚</span><br></div><div id="minivaline-container"></div><script>Yun.utils.getScript("https://cdn.jsdelivr.net/npm/minivaline@6", () => {
  const minivalineConfig = {"enable":true,"serverURL":"https://waline.vercel.app","md":true,"backend":"waline"}
  minivalineConfig.el = "#minivaline-container"
  new MiniValine(minivalineConfig);
}, window.MiniValine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2021 </span><span class="with-love" id="animate" title="æ€¥ï¼é“¾æ¥ä½æ‹›ç§Ÿ~~"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> ifDo7</span></div><div class="live_time"><span>æœ¬åšå®¢å·²ç«­å°½å…¨åŠ›åœ°è¿è¡Œäº†</span><span id="display_live_time"></span><span class="moe-text">å•¦ğŸ¥°~ (â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-07-01T13:14:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="æ€»è®¿å®¢é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="æ€»è®¿é—®é‡"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æœç´¢..." value=""></div><div id="local-search-result"></div></div><script>const date = new Date();
const today = (date.getMonth() + 1) + "-" + date.getDate()
const mourn_days = ["4-4"]
if (mourn_days.includes(today)) {
  document.documentElement.style.filter = "grayscale(1)";
}</script></div></body></html>